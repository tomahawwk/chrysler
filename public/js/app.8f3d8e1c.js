(function(e){function t(t){for(var a,s,r=t[0],l=t[1],c=t[2],d=0,f=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&f.push(i[s][0]),i[s]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var l=n[r];0!==i[l]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},i={app:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"003c":function(e,t,n){e.exports=n.p+"img/2-detail.bae81b05.jpg"},"0240":function(e,t,n){e.exports=n.p+"img/1-detail.13f3e0c9.jpg"},"02a0":function(e,t,n){"use strict";var a=n("99b8"),i=n.n(a);i.a},"0517":function(e,t,n){e.exports=n.p+"img/3.5a886bf1.jpg"},"0713":function(e,t,n){},"07a2":function(e,t,n){},"13da":function(e,t,n){},"1c7c":function(e,t,n){"use strict";var a=n("d06e"),i=n.n(a);i.a},"21cd":function(e,t,n){"use strict";var a=n("32c7"),i=n.n(a);i.a},2495:function(e,t,n){"use strict";var a=n("3e71"),i=n.n(a);i.a},"29a8":function(e,t,n){"use strict";var a=n("b9ba"),i=n.n(a);i.a},"2a92":function(e,t,n){},"2fbe":function(e,t,n){},"32c7":function(e,t,n){},3754:function(e,t,n){},3990:function(e,t,n){e.exports=n.p+"img/part-3_2.9bc6fc7b.jpg"},"3bcb":function(e,t,n){e.exports=n.p+"img/2.6ba90f22.jpg"},"3bed":function(e,t,n){},"3e50":function(e,t,n){"use strict";var a=n("ae1e"),i=n.n(a);i.a},"3e71":function(e,t,n){},4144:function(e,t,n){e.exports=n.p+"img/prev.2a858bd1.svg"},"43fc":function(e,t,n){},"49e7":function(e,t,n){e.exports=n.p+"img/nord-arrow.15a36d42.svg"},"4a47":function(e,t,n){e.exports=n.p+"img/logoAW.ba48e1ee.svg"},"4b42":function(e,t,n){e.exports=n.p+"img/1.3628e74a.jpg"},"4b94":function(e,t,n){"use strict";var a=n("43fc"),i=n.n(a);i.a},"54f1":function(e,t,n){"use strict";var a=n("2fbe"),i=n.n(a);i.a},"55fa":function(e,t,n){e.exports=n.p+"img/3-detail.026c5dc3.jpg"},5640:function(e,t,n){},"56cc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("Preloader"),n("transition",{attrs:{appear:"",name:"fade"}},[n("router-view")],1)],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preloader"},[n("div",{staticClass:"preloader__layer"}),n("RotateElement")],1)},r=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rotate__layer",class:e.animation},[e._m(0)])},c=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rotate"},[n("div",{staticClass:"element"}),n("div",{staticClass:"element"})])}],u={name:"RotateElement",props:["animation"],mounted:function(){console.log(this)}},d=u,f=(n("bd45"),n("2877")),m=Object(f["a"])(d,l,c,!1,null,"d160a9e2",null),p=m.exports,v={name:"Preloader",components:{RotateElement:p}},h=v,_=(n("d217"),Object(f["a"])(h,s,r,!1,null,"c9feb8f0",null)),x=_.exports,g={name:"App",components:{Preloader:x},mounted:function(){}},A=g,y=(n("cf25"),Object(f["a"])(A,i,o,!1,null,null,null)),P=y.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"base",class:e.theme},[a("CursorCustom",{attrs:{theme:e.theme}}),a("Horizontal-ViewAW",{attrs:{scroll:!0,theme:e.theme,overlay:e.overlay,orientation:e.orientation,scrollbar:e.scrollbar,appear:"normal"}},[a("div",{staticClass:"layers"},[a("div",{staticClass:"layer f-layer"},[a("h1",{staticClass:"f-title"},[a("span",[e._v("C")]),a("span",[e._v("H")]),a("span",[e._v("R")]),a("span",[e._v("Y")]),a("span",[e._v("S")]),a("span",[e._v("L")]),a("span",[e._v("E")]),a("span",[e._v("R")])])]),e._l(e.layers,(function(e){return a("div",{key:e.id,staticClass:"layer",style:{"background-image":"url("+e.src+")"},attrs:{"data-layer":e.id}})}))],2),a("div",{ref:"container",staticClass:"main",style:{transform:""+e.move},on:{wheel:e.clearLayers}},[a("div",{staticClass:"main__block layer-trigger"}),a("div",{staticClass:"main__block content content-1"},[a("Roller",{attrs:{count:12,type:1}}),a("div",{staticClass:"content__part"},[a("h2",{staticClass:"title-3 title title-observe observe"},[a("span",[e._v("L")]),a("span",[e._v("e")]),a("span",[e._v("g")]),a("span",[e._v("e")]),a("span",[e._v("n")]),a("span",[e._v("d")]),a("span",[e._v("a")]),a("span",[e._v(" ")]),a("span",[e._v("p")]),a("span",[e._v("r")]),a("span",[e._v("e")]),a("span",[e._v("m")]),a("span",[e._v("i")]),a("span",[e._v("u")]),a("span",[e._v("m")])]),a("div",{staticClass:"description observe"},[a("span",{staticClass:"count"},[e._v("001")]),a("div",{staticClass:"description__part"},[a("div",{staticClass:"p-1 text text-observe"},[a("p",[e._v("Принято считать, что дома класса премиум должны обладать общими")]),a("p",[e._v("локационными характеристиками. Но любая общность делает")]),a("p",[e._v("исключительное – стандартным. LEGENDA традиционно держится")]),a("p",[e._v("своих взглядов в ущерб массовым стереотипам. Институтский, 16 –")]),a("p",[e._v("премиум-класс с новыми традициями своего сегмента.")])]),a("div",{staticClass:"p-1 text mobile"},[e._v("Принято считать, что дома класса премиум должны обладать общими локационными характеристиками. Но любая общность делает исключительное – стандартным. LEGENDA традиционно держится своих взглядов в ущерб массовым стереотипам. Институтский, 16 – премиум-класс с новыми традициями своего сегмента. ")]),a("router-link",{staticClass:"link-border link circle__link",attrs:{to:"/"}},[e._v("Legenda")])],1)])]),a("div",{staticClass:"content__pics"},[a("div",{staticClass:"pic__item border-pic observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("756d")}})])]),a("div",{staticClass:"pic__item dop-pic observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("dc58")}})])])])],1),a("div",{staticClass:"main__block layer-trigger observe trigger-1",attrs:{"data-trigger":"1","data-lax-preset":"lazy-200"}}),a("div",{staticClass:"main__block content content-2"},[a("Roller",{attrs:{count:12,type:1}}),a("div",{staticClass:"map"},[a("img",{attrs:{src:n("6ff9")}})]),a("div",{staticClass:"content__part"},[a("h2",{staticClass:"title-3 title title-observe observe"},[a("span",[e._v("A")]),a("span",[e._v("t")]),a("span",[e._v(" ")]),a("span",[e._v("t")]),a("span",[e._v("h")]),a("span",[e._v("e")]),a("span",[e._v(" ")]),a("span",[e._v("s")]),a("span",[e._v("i")]),a("span",[e._v("l")]),a("span",[e._v("v")]),a("span",[e._v("e")]),a("span",[e._v("r")]),a("span",[e._v(" ")]),a("span",[e._v("p")]),a("span",[e._v("o")]),a("span",[e._v("u")]),a("span",[e._v("n")]),a("span",[e._v("d")])]),a("div",{staticClass:"description observe"},[a("span",{staticClass:"count"},[e._v("002")]),a("div",{staticClass:"description__part"},[a("div",{staticClass:"p-1 text text-observe"},[a("p",[e._v("Место, выбранное для жизни, определяет дальнейшее ее течение. Одни")]),a("p",[e._v("ищут уединения. Другие – шелест ветра в ветвях деревьев. Третьи –")]),a("p",[e._v("неутомимый пульс города. Кому-то – близость блестящей водной глади,")]),a("p",[e._v("другому – полыхающий в окне закат на высоте птичьего полета. Но есть")]),a("p",[e._v("те, кто ищет сразу все – движимые мечтой о собственном идеале. Добро")]),a("p",[e._v("пожаловать... в ваш новый дом!")])]),a("div",{staticClass:"p-1 text mobile"},[e._v("Место, выбранное для жизни, определяет дальнейшее ее течение. Одни ищут уединения. Другие – шелест ветра в ветвях деревьев. Третьи – неутомимый пульс города. Кому-то – близость блестящей водной глади, другому – полыхающий в окне закат на высоте птичьего полета. Но есть те, кто ищет сразу все – движимые мечтой о собственном идеале. Добро пожаловать... в ваш новый дом!")]),a("router-link",{staticClass:"link-border link circle__link",attrs:{to:"/"}},[e._v("Локация")])],1)])]),a("div",{staticClass:"content__pics"},[a("div",{staticClass:"pic__item dop-pic observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("745e")}})])])])],1),a("div",{staticClass:"main__block layer-trigger observe trigger-2",attrs:{"data-trigger":"2","data-lax-preset":"lazy-200"}}),a("div",{staticClass:"main__block content content-3"},[a("Roller",{attrs:{count:12,type:1}}),a("div",{staticClass:"content__pics"},[a("div",{staticClass:"pic__item observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("77d3")}})])]),a("div",{staticClass:"pic__item dop-pic observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("3990")}})])]),a("div",{staticClass:"decorate pic__item observe"})]),a("div",{staticClass:"content__part"},[a("h2",{staticClass:"title-3 title title-observe observe"},[a("span",[e._v("L")]),a("span",[e._v("i")]),a("span",[e._v("f")]),a("span",[e._v("e")]),a("span",[e._v(" ")]),a("span",[e._v("s")]),a("span",[e._v("t")]),a("span",[e._v("y")]),a("span",[e._v("l")]),a("span",[e._v("e")])]),a("div",{staticClass:"description observe"},[a("span",{staticClass:"count"},[e._v("003")]),a("div",{staticClass:"description__part"},[a("div",{staticClass:"p-1 text text-observe"},[a("p",[e._v("Место, выбранное для жизни, определяет дальнейшее ее течение. Одни")]),a("p",[e._v("ищут уединения. Другие – шелест ветра в ветвях деревьев. Третьи –")]),a("p",[e._v("неутомимый пульс города. Кому-то – близость блестящей водной глади,")]),a("p",[e._v("другому – полыхающий в окне закат на высоте птичьего полета. Но есть")]),a("p",[e._v("те, кто ищет сразу все – движимые мечтой о собственном идеале. Добро")]),a("p",[e._v("пожаловать... в ваш новый дом!")])]),a("div",{staticClass:"p-1 text mobile"},[e._v("Место, выбранное для жизни, определяет дальнейшее ее течение. Одни ищут уединения. Другие – шелест ветра в ветвях деревьев. Третьи – неутомимый пульс города. Кому-то – близость блестящей водной глади, другому – полыхающий в окне закат на высоте птичьего полета. Но есть те, кто ищет сразу все – движимые мечтой о собственном идеале. Добро пожаловать... в ваш новый дом!")]),a("router-link",{staticClass:"link-border link circle__link",attrs:{to:"/"}},[e._v("Дайджест")])],1)])])],1),a("div",{staticClass:"main__block layer-trigger observe trigger-3",attrs:{"data-trigger":"3","data-lax-preset":"lazy-200"}}),a("div",{staticClass:"main__block content content-4"},[a("div",{staticClass:"content__pics"},[a("div",{staticClass:"pic__item border-pic observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("ff45")}})])]),a("div",{staticClass:"pic__item dop-pic observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("5f94")}})])])]),a("div",{staticClass:"pic__item single-pic observe"},[a("div",{staticClass:"picture"},[a("img",{attrs:{src:n("d774")}})])]),a("div",{staticClass:"content__part"},[a("h2",{staticClass:"title-3 title title-observe observe"},[a("span",[e._v("l")]),a("span",[e._v("u")]),a("span",[e._v("x")]),a("span",[e._v("u")]),a("span",[e._v("r")]),a("span",[e._v("y")]),a("span",[e._v(" ")]),a("span",[e._v("a")]),a("span",[e._v("r")]),a("span",[e._v("t")]),a("span",[e._v(" ")]),a("span",[e._v("d")]),a("span",[e._v("e")]),a("span",[e._v("c")]),a("span",[e._v("o")])]),a("div",{staticClass:"description observe"},[a("span",{staticClass:"count"},[e._v("004")]),a("div",{staticClass:"description__part"},[a("div",{staticClass:"p-1 text text-observe"},[a("p",[e._v("«Основным источником вдохновения для проекта послужила пятая")]),a("p",[e._v("авеню в нью-йорке, в той ее части, которая выходит на центральный")]),a("p",[e._v("парк. это узнаваемый стиль американского ар деко: строгие линии")]),a("p",[e._v("и приглушенные цвета фасада, обилие стекла, растительные")]),a("p",[e._v("орнаменты. добавьте сюда роскошный вестибюль здания")]),a("p",[e._v("и близость к саду серебряный пруд – и образ сложился».")])]),a("div",{staticClass:"p-1 text mobile"},[e._v("«Основным источником вдохновения для проекта послужила пятая авеню в нью-йорке, в той ее части, которая выходит на центральный парк. это узнаваемый стиль американского ар деко: строгие линии и приглушенные цвета фасада, обилие стекла, растительные орнаменты. добавьте сюда роскошный вестибюль здания и близость к саду серебряный пруд – и образ сложился».")]),a("div",{staticClass:"quote"},[a("p",{staticClass:"name"},[e._v("Евгений Герасимов")]),a("p",{staticClass:"prophesy"},[e._v("Главный архитектор дома")])]),a("router-link",{staticClass:"link-border link circle__link",attrs:{to:"/"}},[e._v("Галерея")])],1)])])]),a("div",{staticClass:"main__block layer-trigger observe trigger-4",attrs:{"data-trigger":"4","data-lax-preset":"lazy-200"}}),a("div",{staticClass:"main__block content content-5"},[a("div",{staticClass:"border-effect-trigger observe"}),a("div",{staticClass:"content__part"},[a("h2",{staticClass:"title-3 title title-observe observe uppercase"},[a("span",[e._v("P")]),a("span",[e._v("r")]),a("span",[e._v("o")]),a("span",[e._v("j")]),a("span",[e._v("e")]),a("span",[e._v("c")]),a("span",[e._v("t")])]),a("div",{staticClass:"cells observe"},[a("div",{staticClass:"line-middle"}),e._l(e.cells,(function(t){return a("div",{staticClass:"cell observe",class:"cell-"+t.id},[a("div",{staticClass:"count"},e._l(t.count,(function(t){return a("span",{staticClass:"ct"},[e._v(e._s(t))])})),0),a("div",{staticClass:"text"},[e._v(e._s(t.text))]),a("div",{staticClass:"cell__inner"},e._l(4,(function(e){return a("span",{staticClass:"line",class:"line-"+e})})),0)])}))],2)]),a("div",{staticClass:"layout"},[a("router-link",{attrs:{to:"/apartments"}},[a("div",{staticClass:"layout__arrow"}),a("span",[e._v("Apartments")]),a("div",{staticClass:"layout__arrow"})])],1)])])]),a("div",{staticClass:"progressbar"},[a("div",{staticClass:"mask"},[a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"1","data-trigger":"0"},on:{click:e.movePage}},[e._v("Legenda")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"3","data-trigger":"1"},on:{click:e.movePage}},[e._v("Location")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"5","data-trigger":"2"},on:{click:e.movePage}},[e._v("Life style")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"7","data-trigger":"3"},on:{click:e.movePage}},[e._v("Art deco")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"9","data-trigger":"4"},on:{click:e.movePage}},[e._v("PROJECT")]),a("div",{staticClass:"line__section"})]),a("div",{staticClass:"line",style:"-webkit-clip-path:polygon(0px 0px, "+e.scrollValue+"% 0px, "+e.scrollValue+"% 100%, 0% 100%)"},[a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"1"},on:{click:e.movePage}},[e._v("Legenda")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"3"},on:{click:e.movePage}},[e._v("Location")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"5"},on:{click:e.movePage}},[e._v("Life style")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"7"},on:{click:e.movePage}},[e._v("Art deco")]),a("div",{staticClass:"line__section"}),a("div",{staticClass:"text circle__link",attrs:{"data-scroll":"9"},on:{click:e.movePage}},[e._v("PROJECT")]),a("div",{staticClass:"line__section"})])])],1)},b=[],w=(n("ac6a"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"cursor",class:e.theme},[n("div",{staticClass:"circle-cursor circle-cursor--inner"}),n("div",{staticClass:"circle-cursor circle-cursor--outer"})])}),S=[],C=n("d225"),L=n("b0b4"),T=n("109c"),E=(n("20d6"),n("5df3"),n("1c4c"),function(){setTimeout((function(){return document.body.classList.add("render")}),60);var e=Array.from(document.querySelectorAll(".demos__links .demo")),t=e.length,n=e.findIndex((function(e){return e.classList.contains("demo--current")})),a=function(e){document.body.classList.remove("render"),document.body.addEventListener("transitionend",(function(){return window.location=e.href}))};e.forEach((function(e){return e.addEventListener("click",(function(e){e.preventDefault(),a(e.currentTarget)}))})),document.addEventListener("keydown",(function(i){var o,s=i.keyCode||i.which;if(37===s)o=n>0?e[n-1]:e[t-1];else{if(39!==s)return!1;o=n<t-1?e[n+1]:e[0]}a(o)}))}),I=E,N=function(){function e(){Object(C["a"])(this,e),I(),this.initCursor(),this.initHovers()}return Object(L["a"])(e,[{key:"initCursor",value:function(){var e=this,t=window,n=t.Back;this.outerCursor=document.querySelector(".circle-cursor--outer"),this.innerCursor=document.querySelector(".circle-cursor--inner"),this.outerCursorBox=this.outerCursor.getBoundingClientRect(),this.outerCursorSpeed=0,this.easing=n.easeOut.config(1.7),this.clientX=-100,this.clientY=-100,this.showCursor=!1,console.log("Курсор");var a=function(){T["a"].set(e.innerCursor,{x:e.clientX,y:e.clientY}),T["a"].set(e.outerCursor,{x:e.clientX-e.outerCursorBox.width/2,y:e.clientY-e.outerCursorBox.height/2}),setTimeout((function(){e.outerCursorSpeed=.2}),100),e.showCursor=!0};document.addEventListener("mousemove",a),document.addEventListener("mousemove",(function(t){e.clientX=t.clientX,e.clientY=t.clientY}));var i=function t(){T["a"].set(e.innerCursor,{x:e.clientX,y:e.clientY}),e.isStuck||T["a"].to(e.outerCursor,e.outerCursorSpeed,{x:e.clientX-e.outerCursorBox.width/2,y:e.clientY-e.outerCursorBox.height/2}),e.showCursor&&document.removeEventListener("mousemove",a),requestAnimationFrame(t)};requestAnimationFrame(i)}},{key:"initHovers",value:function(){var e=this,t=function(t){e.isStuck=!0,T["a"].set(e.innerCursor,{opacity:0});var n=t.currentTarget,a=n.getBoundingClientRect();e.outerCursorOriginals={width:e.outerCursorBox.width,height:e.outerCursorBox.height},T["a"].to(e.outerCursor,.2,{x:a.left,y:a.top,width:a.width,height:a.height,opacity:.4,borderColor:"#000000"})},n=function(){document.querySelector(".cursor").classList.add("zoom")},a=function(){document.querySelector(".cursor").classList.remove("zoom")},i=function(){document.querySelector(".cursor").classList.add("zoom-out")},o=function(){document.querySelector(".cursor").classList.remove("zoom-out")},s=function(){document.querySelector(".cursor").classList.add("right")},r=function(){document.querySelector(".cursor").classList.remove("right")},l=function(){document.querySelector(".cursor").classList.add("left")},c=function(){document.querySelector(".cursor").classList.remove("left")},u=function(){e.isStuck=!1,T["a"].set(e.innerCursor,{opacity:1}),T["a"].to(e.outerCursor,.2,{width:e.outerCursorOriginals.width,height:e.outerCursorOriginals.height,opacity:.4,borderColor:"#000000"})},d=document.querySelectorAll(".cursor__link");d.forEach((function(e){e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",u)}));document.querySelector(".menu__btn");d.forEach((function(e){e.addEventListener("mouseenter",t),e.addEventListener("mouseleave",u)}));var f=T["a"].to(this.outerCursor,.3,{backgroundColor:"#ffffff",ease:this.easing,paused:!0}),m=function(){e.outerCursorSpeed=0,T["a"].set(e.innerCursor,{opacity:0}),f.play()},p=function(){e.outerCursorSpeed=.2,T["a"].set(e.innerCursor,{opacity:1}),f.reverse()},v=document.querySelectorAll(".circle__link");v.forEach((function(e){e.addEventListener("mouseenter",m),e.addEventListener("mouseleave",p)}));var h=document.querySelectorAll(".zoom"),_=document.querySelectorAll(".zoom-out");h.forEach((function(e){e.addEventListener("mouseenter",n),e.addEventListener("mouseleave",a)})),_.forEach((function(e){e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",o)}));var x=document.querySelector(".hidden__arrow.next");x&&(x.addEventListener("mouseenter",s),x.addEventListener("mouseleave",r));var g=document.querySelector(".hidden__arrow.prev");g&&(g.addEventListener("mouseenter",l),g.addEventListener("mouseleave",c))}}]),e}(),U=N,X={name:"CursorCustom",props:["theme"],data:function(){return{}},mounted:function(){new U}},M=X,O=(n("7013"),Object(f["a"])(M,w,S,!1,null,"165630df",null)),z=O.exports,R=n("7a32"),k=n.n(R),Y=n("fa78"),Q=n.n(Y),D=n("ebcf"),B=n.n(D),H=new B.a,G=H,q=function(){for(var e=document.querySelectorAll(".layer-trigger"),t=document.querySelectorAll(".layer"),n=0,a=0;a<e.length;a++)e[a].classList.contains("animated")&&(n=e[a].dataset.trigger);for(var i=0;i<t.length;i++)t[i].style.display="none";t[n].style.display="flex"},W=function(e){for(var t=document.querySelectorAll(".observe"),n=0;n<t.length;n++)e.observe(t[n])},V=function(e){var t={threshold:[0,1]},n=function(e){e.target.classList.add("animated")},a=function(e){e.target.classList.remove("animated")},i=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting?n(e):a(e)}))}),t);W(i)},j={map:function(e,t,n,a,i){return(e-t)*(i-a)/(n-t)+a},lerp:function(e,t,n){return(1-n)*e+n*t}},$=function(e){e>300?(document.querySelector(".f-title").classList.add("fade"),document.querySelector(".activeScroll").classList.add("hidden")):(document.querySelector(".f-title").classList.remove("fade"),document.querySelector(".activeScroll").classList.remove("hidden"));for(var t=document.querySelectorAll(".pic__item.animated"),n={innerTranslationX:{previous:0,current:0,ease:.3,maxValue:120}},a=function(e){var a=function(){var a=n.innerTranslationX.maxValue,i=-1*a;return Math.max(Math.min(j.map(t[e].getBoundingClientRect().left,window.innerWidth,-1*t[e].offsetWidth,i,a),a),i)};for(var i in n)n[i].current=a(),n[i].previous=j.lerp(n[i].previous,n[i].current,n[i].ease);t[e].style.transform="translate3d(".concat(1.2*n.innerTranslationX.previous,"px, 0, 0)"),t[e].querySelector("img")&&(t[e].querySelector("img").style.transform="translate3d(".concat(n.innerTranslationX.previous,"px, 0, 0)"))},i=0;i<t.length;i++)a(i)},Z=n("db5d"),K=n.n(Z),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"horizontal-view"},[n("div",{staticClass:"preloader-intro",class:e.overlay},[n("RotateElement",{attrs:{animation:e.animation}})],1),n("div",{staticClass:"page",class:e.overlay},[n("Header",{attrs:{theme:e.theme,appear:e.appear,orientation:e.orientation}}),n("Border",{attrs:{scroll:e.scroll,appear:e.appear,theme:e.theme,scrollbar:e.scrollbar}}),e._t("default")],2)])},ee=[],te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("header",{staticClass:"header",class:e.theme},[n("div",{staticClass:"overlay",class:{active:e.showMenu},on:{click:function(t){e.showMenu=!e.showMenu}}}),n("div",{staticClass:"header__menu menu",class:{active:e.showMenu}},[n("div",{staticClass:"menu__head"},[e._m(0),n("div",{staticClass:"menu__part_second"},[n("router-link",{staticClass:"double-line circle__link",attrs:{to:"/"}},[e._v("Subscribe to news")])],1)]),n("div",{staticClass:"menu__content",style:{transform:"translate3d(0, "+e.translate+"px, 0)"}},[n("div",{staticClass:"menu__part_first"},[n("ul",{staticClass:"menu__list"},e._l(e.menu,(function(t){return n("li",[n("router-link",{staticClass:"circle__link router__link one-line",attrs:{to:t.url},on:{click:e.preloaderActive}},[e._v(e._s(t.title))])],1)})),0)]),e._m(1)])]),n("div",{staticClass:"header__inner"},[n("div",{staticClass:"inner",class:e.orientation},[n("div",{staticClass:"header__buttons"},[n("LogoAW",{attrs:{theme:e.theme}}),n("div",{staticClass:"cursor__link",class:{active:e.showMenu},on:{click:function(t){e.showMenu=!e.showMenu}}},[e._m(2)])],1)])])])},ne=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu__part_first"},[n("a",{staticClass:"double-line circle__link",attrs:{href:"https://legenda-dom.ru/",target:"_blank"}},[e._v("Legenda Intelligent Development")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu__part_second"},[n("div",{staticClass:"contact"},[n("div",{staticClass:"contact__part"},[n("div",{staticClass:"label"},[e._v("Phone")]),n("a",{staticClass:"contact__item",attrs:{href:"tel:+78123854677"}},[e._v("8 (812) 385 46 77")])]),n("div",{staticClass:"contact__part"},[n("div",{staticClass:"label"},[e._v("Sales department")]),n("div",{staticClass:"contact__item"},[e._v("8, Startovaya st, St. Petersburg")])]),n("div",{staticClass:"contact__part"},[n("div",{staticClass:"copyright"},[e._v("Made by "),n("a",{staticClass:"circle__link double-line",attrs:{href:"https://its.agency/",target:"_blank"}},[e._v("its.agency ")])])])])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"menu__btn"},[n("span",[n("div")]),n("span",[n("div")])])}],ae=(n("7f7f"),n("5889")),ie=n.n(ae),oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-link",{staticClass:"logo-link",class:e.theme,attrs:{to:"/"}},["dark"==e.theme?a("picture",[a("source",{attrs:{media:"(max-width: 900px)",srcset:n("eaba")}}),a("img",{attrs:{src:n("4a47")}})]):a("picture",[a("source",{attrs:{media:"(max-width: 900px)",srcset:n("61e4")}}),a("img",{attrs:{src:n("e1ea")}})])])},se=[],re={props:["theme"],name:"LogoAW",data:function(){return{}}},le=re,ce=(n("21cd"),Object(f["a"])(le,oe,se,!1,null,"a719ce88",null)),ue=ce.exports,de={name:"HeaderAW",props:["theme","appear","orientation"],data:function(){return{showMenu:!1,translate:0,menu:[{title:"Home",active:!0,url:"/"},{title:"Progress",url:"/progress"},{title:"Gallery",url:"/gallery"},{title:"Location",url:"/location"},{title:"Documents",url:"/documents"},{title:"Apartments",url:"/apartments"}]}},methods:{scrollBust:function(){var e=this,t=document.querySelector("body"),n=this.$el.querySelector(".menu__content");new ie.a({viewport:t,bounce:!0,content:n,emulateScroll:!0,mode:"y",onUpdate:function(t){e.translate=-t.position.y}})},preloaderActive:function(){var e=document.querySelectorAll(".preloader-intro");document.querySelector(".preloader").classList.add("right"),e.forEach((function(e){e.classList.add("hidden")})),setTimeout((function(){document.querySelector(".preloader").classList.remove("right")}),2e3)}},mounted:function(){var e=this,t=document.querySelectorAll(".router__link");t.forEach((function(t){t.addEventListener("click",(function(){e.preloaderActive(),t.innerText.toLowerCase()!=e.$route.name.toLowerCase()&&e.preloaderActive()}))})),(this.appear="normal")&&setTimeout((function(){e.$el.classList.add("active")}),200),window.innerWidth<=900&&this.$el.querySelector(".cursor__link").addEventListener("click",(function(){e.$el.classList.contains("header--active")?setTimeout((function(){e.$el.classList.remove("header--active")}),800):e.$el.classList.add("header--active")}))},components:{LogoAW:ue}},fe=de,me=(n("4b94"),Object(f["a"])(fe,te,ne,!1,null,"02600d46",null)),pe=me.exports,ve=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"border",class:e.theme},[n("span",{staticClass:"border__top"}),n("span",{staticClass:"border__right",class:{activeScroll:e.scroll}},[!0===e.scroll?n("div",{staticClass:"scroll"},[n("div",[e._v("Scroll")])]):e._e(),n("div",{staticClass:"part part__first"}),n("router-link",{staticClass:"layout",attrs:{to:"/apartments"}},[n("div",[e._v("APARTMENTS")])]),n("div",{staticClass:"part part__second"})],1),n("span",{staticClass:"border__bottom",class:{hidden:e.scrollbar}}),n("span",{staticClass:"border__left"})])},he=[],_e={name:"Border",props:["scroll","appear","theme","scrollbar"],data:function(){return{}},mounted:function(){var e=this.$el.querySelectorAll(".border span");"normal"==this.appear&&setTimeout((function(){for(var t=0;t<e.length;t++)e[t].classList.add("active")}),200)}},xe=_e,ge=(n("9579"),Object(f["a"])(xe,ve,he,!1,null,"789e313c",null)),Ae=ge.exports,ye={name:"HorizontalViewAW",props:["scroll","theme","appear","scrollbar","animation","overlay","orientation"],components:{Header:pe,Border:Ae,RotateElement:p}},Pe=ye,Fe=(n("c279"),Object(f["a"])(Pe,J,ee,!1,null,"0753ccaf",null)),be=Fe.exports,we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"roller observe",class:"roller-"+e.type},e._l(e.count,(function(e){return n("div",[n("div",{staticClass:"rotation"})])})),0)},Se=[],Ce={props:["count","type"],name:"Roller",data:function(){return{}}},Le=Ce,Te=(n("54f1"),Object(f["a"])(Le,we,Se,!1,null,"4379ef62",null)),Ee=Te.exports,Ie=(n("3022"),function(e){return Math.round(100*e)/100}),Ne=function(e,t,n){return(1-n)*e+n*t},Ue={name:"MainAW",data:function(){return{theme:"dark",scroll:0,translate:0,scrollValue:0,orientation:"vertical",move:"",overlay:"none",appear:"main",scrollbar:!0,vs:null,layers:[{id:2},{id:3},{id:4},{id:5},{id:6}],scrollBarArray:["Legenda","Location","Life style","Art deco","Project"],cells:[{id:1,count:[1,0,9],text:"квартир"},{id:2,count:[1,5],text:"типов планировок"},{id:3,count:[2,3],text:"этажа"},{id:4,count:[9,6],text:"метра уровень первого жилого этажа"},{id:5,count:[2],text:"уровня подземного паркинга на 247 мест"}],ratios:[],covers:[]}},components:{HorizontalViewAW:be,Roller:Ee,CursorCustom:z},mounted:function(){this.start(),V()},beforeDestroy:function(){G.remove("checkSmooth"),this.vs.off(this.onScroll),G.stop(!0),this.clearCursor()},methods:{clearLayers:function(){var e=this.$el.querySelector(".layers");e.classList.remove("hide")},start:function(){window.innerWidth>900?(this.setup(),this.$el.querySelector(".f-title").classList.add("show"),this.$el.querySelector(".progressbar").classList.add("active")):(this.mobileScroll(),this.checkiOS())},movePage:function(){var e=this.$el.querySelectorAll(".main__block"),t=this.$el.querySelector(".layers"),n=this.$refs.container.scrollWidth/e.length;t.classList.add("hide"),this.scroll=n*event.target.dataset.scroll},checkiOS:function(){var e=["iPad","iPhone","iPod"].indexOf(navigator.platform)>=0;1==e&&this.$el.querySelector(".main").classList.add("main--ios")},mobileScroll:function(){K.a.setup();for(var e=this.$el.querySelectorAll(".layer-trigger"),t=0;t<e.length;t++)K.a.addElement(e[t]);window.addEventListener("scroll",(function(e){K.a.update(window.scrollY)}),!1)},clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()},setup:function(){G.start(),this.vs=new k.a({mouseMultiplier:.7,touchMultiplier:.7,passive:!0}),G.add(this.checkSmooth,"checkSmooth"),this.vs.on(this.onScroll)},onScroll:function(e){var t=this.scroll+-1*e.deltaY;q(),this.scroll=Math.min(Math.max(t,0),this.$refs.container.scrollWidth-window.innerWidth)},scrollBar:function(){var e=this.scroll/(this.$refs.container.offsetWidth-window.innerWidth);this.scrollValue=100*e},checkSmooth:function(){if(this.scrollBar(),Math.round(this.scroll)!==Math.round(this.translate)){this.getRatio(),this.$el.querySelector(".border-effect-trigger").classList.contains("animated")?document.querySelector(".border__right").classList.add("open"):document.querySelector(".border__right").classList.remove("open"),$(this.scroll);this.$el.querySelectorAll(".layer");for(var e=0;e<this.ratios.length;e++){var t=1.5-this.ratios[e].intersectionRatio/2,n=this.ratios[e].intersectionRatio;this.covers[e].style.transform="scale(".concat(t,")"),this.covers[e].style.filter="brightness(".concat(n,")")}this.translate=Ie(Ne(this.translate,this.scroll,.07)),window.innerWidth>900&&(this.move="translate3d(-".concat(this.translate,"px, 0, 0)"))}},getRatio:function(){var e=this,t=this.$el.querySelectorAll(".layer-trigger"),n=this.$el.querySelectorAll(".layer");this.covers=n;var a=new IntersectionObserver((function(t){t.forEach((function(t,n){var a=t.target,i=t.intersectionRatio;e.ratios[n]={target:a,intersectionRatio:i}}))}),{threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1]});t.forEach((function(e){a.observe(e)}))}}},Xe=Ue,Me=(n("60ef"),Object(f["a"])(Xe,F,b,!1,null,"57e0cad5",null)),Oe=Me.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base light",attrs:{id:"itemsWrapper"}},[n("CursorCustom",{attrs:{theme:e.theme}}),n("div",{staticClass:"fullview"},[e._l(e.items,(function(t){return n("div",{staticClass:"fullview__item"},[n("div",{staticClass:"modal"},[n("div",{staticClass:"title"},e._l(t.date,(function(t){return n("span",[e._v(e._s(t))])})),0),n("div",{staticClass:"text"},e._l(t.text,(function(t){return n("p",{staticClass:"p-1"},[e._v(e._s(t))])})),0)])])})),n("button",{staticClass:"fullview__close cursor__link",attrs:{"aria-label":"Close preview"}})],2),n("HorizontalViewAW",{attrs:{theme:e.theme,appear:e.appear,orientation:e.orientation}},[n("PageScroll",{attrs:{theme:e.theme,type:e.type,title:e.pageProps.title,link:e.pageProps.link}},[n("ProgressCarousel",{attrs:{items:e.items}})],1)],1)],1)},Re=[],ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-scroll",class:e.theme},[n("div",{staticClass:"page-scroll__inner",class:e.type},[n("div",{staticClass:"head__part",style:{transform:"scale3d("+e.brightness/100+", "+e.brightness/100+", 1)"}},[e._m(0),n("router-link",{staticClass:"link-sub router__link circle__link",attrs:{to:e.link.route}},[e._v(e._s(e.link.name))])],1),n("div",{ref:"container",staticClass:"content__part",style:{transform:"translate3d(-"+e.translate+"px, 0, 0) "}},[n("div",{staticClass:"border",style:{transform:"scaleY("+e.borderScale+")"}}),e._t("default")],2)])])},Ye=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"title-4 title"},[n("span",[e._v("P")]),n("span",[e._v("r")]),n("span",[e._v("o")]),n("span",[e._v("g")]),n("span",[e._v("r")]),n("span",[e._v("e")]),n("span",[e._v("s")]),n("span",[e._v("s")])])}],Qe=function(e){return Math.round(100*e)/100},De=function(e,t,n){return(1-n)*e+n*t},Be={name:"PageScroll",props:["theme","type","title","link"],data:function(){return{scroll:0,translate:0,scrollValue:0,brightness:100,borderScale:1,vs:null}},beforeDestroy:function(){G.remove("checkSmooth"),this.vs.off(this.onScroll),G.stop(!0)},methods:{onScroll:function(e){var t=this.scroll+-1*e.deltaY;this.scroll=Math.min(Math.max(t,0),this.$refs.container.scrollWidth-window.innerWidth)},setup:function(){G.start(),this.vs=new k.a({mouseMultiplier:.7,touchMultiplier:.7,passive:!0}),G.add(this.checkSmooth,"checkSmooth"),Q.a.enable(),this.vs.on(this.onScroll)},animHead:function(){this.scroll>100?this.$el.querySelector(".head__part").classList.add("animated"):this.$el.querySelector(".head__part").classList.remove("animated")},showPage:function(){this.$el.classList.add("active"),this.carouselActive=!0},checkSmooth:function(){Math.round(this.scroll)!==Math.round(this.translate)&&(this.translate=Qe(De(this.translate,this.scroll,.07)),this.scroll<1e3&&(this.borderScale=Qe(De(this.translate,this.scroll,.07))/800+1,this.brightness=100-Qe(De(this.translate,this.scroll,.07))/10)),this.animHead()}},mounted:function(){this.showPage(),window.innerWidth>900&&(this.setup(),this.scrollWidth=this.$refs.container.offsetWidth)}},He=Be,Ge=(n("d7fe"),Object(f["a"])(He,ke,Ye,!1,null,"0efd0040",null)),qe=Ge.exports,We=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"carousel"},[n("div",{staticClass:"carousel__inner"},e._l(e.items,(function(t){return n("div",{staticClass:"carousel__item zoom"},[n("div",{staticClass:"image"},[n("img",{staticClass:"album__item-img album__item-img--small",attrs:{src:t.preview}}),n("img",{staticClass:"album__item-img album__item-img--large",attrs:{src:t.detail}})]),n("div",{staticClass:"title"},e._l(t.date,(function(t){return n("span",[e._v(e._s(t))])})),0)])})),0)])},Ve=[],je=n("75fc"),$e=(n("6b54"),n("f386"),n("5a89")),Ze=n("bd7e"),Ke=n.n(Ze),Je=function(){var e=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(C["a"])(this,e),this.container=t,this.itemsWrapper=n,this.initialised=!1,this.camera=null,this.scene=null,this.renderer=null,a.scrollContainer=a.scrollContainer||null,a.timing=a.timing||{},a.timing.type=a.timing.type||"sameEnd",a.timing.sections=a.timing.sections||1,a.timing.latestStart=a.timing.latestStart||.5,a.timing.duration=a.timing.duration||1,a.transformation=a.transformation||{},a.transformation.type=a.transformation.type||"none",a.transformation.props=a.transformation.props||{},a.activation.type=a.activation.type||"topLeft",a.seed=a.seed||0,a.easings=a.easings||{},a.easings.toFullscreen=a.easings.toFullscreen||Power0.easeNone,a.easings.toGrid=a.easings.toGrid||Power0.easeNone,a.flipBeizerControls=a.flipBeizerControls||{},a.flipBeizerControls.c0=a.flipBeizerControls.c0||{},a.flipBeizerControls.c0.x=a.flipBeizerControls.c0.x||.5,a.flipBeizerControls.c0.y=a.flipBeizerControls.c0.y||.5,a.flipBeizerControls.c1=a.flipBeizerControls.c1||{},a.flipBeizerControls.c1.x=a.flipBeizerControls.c1.x||.5,a.flipBeizerControls.c1.y=a.flipBeizerControls.c1.y||.5,this.options=a,this.uniforms={uImage:new $e["Uniform"](null),uImageRes:new $e["Uniform"](new $e["Vector2"](1,1)),uImageLarge:new $e["Uniform"](null),uImageLargeRes:new $e["Uniform"](new $e["Vector2"](1,1)),uProgress:new $e["Uniform"](0),uMeshScale:new $e["Uniform"](new $e["Vector2"](1,1)),uPlaneCenter:new $e["Uniform"](new $e["Vector2"](0,0)),uViewSize:new $e["Uniform"](new $e["Vector2"](1,1)),uScaleToViewSize:new $e["Uniform"](new $e["Vector2"](1,1)),uClosestCorner:new $e["Uniform"](0),uMouse:new $e["Uniform"](new $e["Vector2"](0,0)),uSeed:new $e["Uniform"](a.seed),uProgressByParts:new $e["Uniform"]("sections"===a.timing.type),uActivationParts:new $e["Uniform"](a.timing.sections),uSyncLatestStart:new $e["Uniform"](a.timing.latestStart),uBeizerControls:new $e["Uniform"](new $e["Vector4"](a.flipBeizerControls.c0.x,a.flipBeizerControls.c0.y,a.flipBeizerControls.c1.x,a.flipBeizerControls.c1.y))},this.textures=[],this.currentImageIndex=-1,this.isFullscreen=!1,this.isAnimating=!1,this.onResize=this.onResize=this.onResize.bind(this)}return Object(L["a"])(e,[{key:"resetUniforms",value:function(){this.uniforms.uMeshScale.value=new $e["Vector2"](1,1),this.uniforms.uPlaneCenter.value=new $e["Vector2"](0,0),this.uniforms.uScaleToViewSize.value=new $e["Vector2"](1,1),this.uniforms.uClosestCorner.value=0,this.uniforms.uMouse.value=new $e["Vector2"](0,0),this.uniforms.uImage.value=null,this.uniforms.uImageRes.value=new $e["Vector2"](1,1),this.uniforms.uImageLarge.value=null,this.uniforms.uImageLargeRes.value=new $e["Vector2"](1,1);var e=this.mesh;e.scale.x=1e-5,e.scale.y=1e-5,e.position.x=0,e.position.y=0}},{key:"createTextures",value:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],i=new $e["Texture"](a.large.image);i.generateMipmaps=!1,i.wrapS=i.wrapT=$e["ClampToEdgeWrapping"],i.minFilter=$e["LinearFilter"],i.needsUpdate=!0;var o=new $e["Texture"](a.small.image);o.generateMipmaps=!1,o.wrapS=o.wrapT=$e["ClampToEdgeWrapping"],o.minFilter=$e["LinearFilter"],o.needsUpdate=!0;var s={large:{element:a.large.element,texture:i},small:{element:a.small.element,texture:o}};t.push(s)}this.textures=t,this.setCurrentTextures()}},{key:"setCurrentTextures",value:function(){if(-1!==this.currentImageIndex){var e=this.textures[this.currentImageIndex];this.uniforms.uImage.value=e.small.texture,this.uniforms.uImageRes.value.x=e.small.texture.image.naturalWidth,this.uniforms.uImageRes.value.y=e.small.texture.image.naturalHeight,this.uniforms.uImageLarge.value=e.large.texture,this.uniforms.uImageLargeRes.value.x=e.large.texture.image.naturalWidth,this.uniforms.uImageLargeRes.value.y=e.large.texture.image.naturalHeight,this.isAnimating||this.render()}}},{key:"init",value:function(){var e=this;this.renderer=new $e["WebGLRenderer"]({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.scene=new $e["Scene"],this.camera=new $e["PerspectiveCamera"](45,window.innerWidth/window.innerHeight,.1,1e4),this.camera.position.z=50,this.camera.lookAt=this.scene.position;var n=this.getViewSize();this.uniforms.uViewSize.value=new $e["Vector2"](n.width,n.height);var i=128,s=new $e["PlaneBufferGeometry"](1,1,i,i);function r(e){return e&&"[object Function]"==={}.toString.call(e)}var l=r(this.options.transformation.type)?this.options.transformation.type(this.options.transformation.props):a[this.options.transformation.type](this.options.transformation.props),c=o(t[this.options.activation.type],l),u=new $e["ShaderMaterial"]({uniforms:this.uniforms,vertexShader:c.vertex,fragmentShader:c.fragment,side:$e["DoubleSide"]});this.mesh=new $e["Mesh"](s,u),this.scene.add(this.mesh),window.addEventListener("resize",this.onResize),this.options.scrollContainer&&this.options.scrollContainer.addEventListener("scroll",(function(t){e.recalculateUniforms(t)}));for(var d=0;d<v.length;d++){var f=v[d];f.addEventListener("mousedown",this.createOnMouseDown(d))}}},{key:"createOnMouseDown",value:function(e){var t=this;return function(n){t.toFullscreen(e,n)}}},{key:"toGrid",value:function(){var e=this;this.isFullscreen&&!this.isAnimating&&(this.isAnimating=!0,this.options.onToGridStart&&this.options.onToGridStart({index:this.currentImageIndex}),this.tween=TweenLite.to(this.uniforms.uProgress,this.options.timing.duration,{value:0,ease:this.options.easings.toGrid,onUpdate:function(){e.render()},onComplete:function(){e.isAnimating=!1,e.isFullscreen=!1,e.itemsWrapper.style.zIndex=1,e.container.style.zIndex=0,e.resetUniforms(),e.render(),e.options.onToGridFinish&&e.options.onToGridFinish({index:-1,lastIndex:e.currentImageIndex}),e.currentImageIndex=-1}}))}},{key:"recalculateUniforms",value:function(e){if(-1!==this.currentImageIndex){var t=v[this.currentImageIndex].getBoundingClientRect(),n={x:(e.clientX-t.left)/t.width,y:1-(e.clientY-t.top)/t.height},a=t.left>window.innerWidth-(t.left+t.width),i=t.top>window.innerHeight-(t.top+t.height),o=2*a+i;this.uniforms.uClosestCorner.value=o,this.uniforms.uMouse.value=new $e["Vector2"](n.x,n.y);var s=this.getViewSize(),r=t.width*s.width/window.innerWidth,l=t.height*s.height/window.innerHeight,c=t.left*s.width/window.innerWidth-s.width/2,u=t.top*s.height/window.innerHeight-s.height/2,d=(this.mesh.geometry,this.mesh);d.scale.x=r,d.scale.y=l;var f=c+r/2,m=-u-l/2;d.position.x=f,d.position.y=m,this.uniforms.uPlaneCenter.value.x=f/r,this.uniforms.uPlaneCenter.value.y=m/l,this.uniforms.uMeshScale.value.x=r,this.uniforms.uMeshScale.value.y=l,this.uniforms.uScaleToViewSize.value.x=s.width/r-1,this.uniforms.uScaleToViewSize.value.y=s.height/l-1}}},{key:"toFullscreen",value:function(e,t){var n=this;if(!this.isFullscreen&&!this.isAnimating){if(this.isAnimating=!0,this.currentImageIndex=e,this.recalculateUniforms(t),this.textures[e]){var a=this.textures[e];this.uniforms.uImage.value=a.small.texture,this.uniforms.uImageRes.value.x=a.small.texture.image.naturalWidth,this.uniforms.uImageRes.value.y=a.small.texture.image.naturalHeight,this.uniforms.uImageLarge.value=a.large.texture,this.uniforms.uImageLargeRes.value.x=a.large.texture.image.naturalWidth,this.uniforms.uImageLargeRes.value.y=a.large.texture.image.naturalHeight}this.itemsWrapper.style.zIndex=1,this.container.style.zIndex=2,this.options.onToFullscreenStart&&this.options.onToFullscreenStart({index:this.currentImageIndex}),this.tween=TweenLite.to(this.uniforms.uProgress,this.options.timing.duration,{value:1,ease:this.options.easings.toFullscreen,onUpdate:function(){n.render()},onComplete:function(){n.isAnimating=!1,n.isFullscreen=!0,n.options.onToFullscreenFinish&&n.options.onToFullscreenFinish({index:n.currentImageIndex})}})}}},{key:"getViewSize",value:function(){var e=this.camera.fov*Math.PI/180,t=Math.abs(this.camera.position.z*Math.tan(e/2)*2);return{width:t*this.camera.aspect,height:t}}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"onResize",value:function(e){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.currentImageIndex>-1&&(this.recalculateUniforms(e),this.render())}}]),e}(),t={corners:"\n      float getActivation(vec2 uv){\n        float top = (1.-uv.y);\n        float right = uv.x;\n        float bottom = uv.y;\n        float left = 1.- uv.x;\n  \n        return top *0.333333 + (right * 0.333333 + (right * bottom)*0.666666 );\n    }\n    ",topLeft:"\n      float getActivation(vec2 uv){\n          return (+uv.x-uv.y+1.)/2.;\n      }\n    ",sides:"\n        float getActivation(vec2 uv){\n          return min(uv.x, 1.-uv.x) * 2.;\n        }\n    ",left:"\n      float getActivation(vec2 uv){\n          return uv.x;\n      }\n      ",top:"\n      float getActivation(vec2 uv){\n          return 1. - uv.y;\n      }\n      ",bottom:"\n      float getActivation(vec2 uv){\n          return uv.y;\n      }\n      ",bottomStep:"\n      float getActivation(vec2 uv){\n          \n          \n          return uv.y;\n      }\n      ",sinX:"\n        float getActivation(vec2 uv){\n          return sin(uv.x * 3.14);\n        }\n      ",center:"\n        float getActivation(vec2 uv){\n          float maxDistance = distance(vec2(0.),vec2(0.5));\n          float dist = distance(vec2(0.), uv-0.5);\n          return smoothstep(0.,maxDistance,dist);\n        }\n      ",mouse:"\n        float getActivation(vec2 uv){\n          float maxDistance = distance(uMouse, 1.-floor(uMouse+0.5));\n          float dist = smoothstep(0.,maxDistance,distance(uMouse,uv));\n          return dist;\n        }\n      ",closestCorner:"\n        float getActivation(vec2 uv){\n  \n          float y = mod(uClosestCorner,2.) *2. -1.;\n          float x = (floor(uClosestCorner /2.)*2.-1.)*-1.;\n  \n          float xAct = abs(min(0.,x)) + uv.x * x;\n          float yAct = abs(min(0.,y)) + uv.y * y;\n  \n          return (xAct+yAct)/2.;\n        }\n      ",closestSide:"\n        float getActivation(vec2 uv){\n  \n          float y = mod(uClosestCorner,2.) *2. -1.;\n          float x = (floor(uClosestCorner /2.)*2.-1.)*-1.;\n  \n          float xAct = abs(min(0.,x)) + uv.x * x;\n          float yAct = abs(min(0.,y)) + uv.y * y;\n  \n          return (xAct+yAct)/2.;\n        }\n      "};function n(e){var t=e.toString(),n=t.indexOf(".");return-1===n&&(t+="."),t}var a={none:function(){return null},flipX:function(){return"\n      \n          float beizerProgress = cubicBezier(vertexProgress,\n          uBeizerControls.x,uBeizerControls.y,\n          uBeizerControls.z,uBeizerControls.w);\n  \n          float flippedX = -transformedPos.x;\n          transformedPos.x = mix (transformedPos.x, flippedX,beizerProgress );\n            \n            // Flip texture on flipped sections \n          // float activationAtX0 = getActivation(vec2(0.,transformedUV.y));\n          // float activationAtX1 = getActivation(vec2(1.,transformedUV.y));\n          //   float syncDifference = \n          //     activationAtX1 * uSyncLatestStart - activationAtX0 * uSyncLatestStart;\n            float syncDifference =  uSyncLatestStart;\n              \n              // Flip the controls because who knows why\n              // But it works exactly\n  \n            // Multiply by aspect ratio to account for mesh scaling\n            float aspectRatio = (uMeshScale.x / uMeshScale.y);\n            float stepFormula = 0.5 - (syncDifference * uSyncLatestStart * uSyncLatestStart) * aspectRatio;\n  \n            transformedUV.x = mix(transformedUV.x,1.-transformedUV.x,\n                step(stepFormula,beizerProgress));\n        "},simplex:function(e){n(e.seed||0);var t=n(e.amplitudeX||.5),a=n(e.amplitudeY||.5),i=n(e.frequencyX||1),o=n(e.frequencyY||.75),s=n(e.progressLimit||.5);return"\n        float simplexProgress = min(clamp((vertexProgress) / ".concat(s,",0.,1.),clamp((1.-vertexProgress) / (1.-").concat(s,"),0.,1.));\n        simplexProgress = smoothstep(0.,1.,simplexProgress);\n        float noiseX = snoise(vec2(transformedPos.x +uSeed, transformedPos.y + uSeed + simplexProgress * 1.) * ").concat(i," ) ;\n        float noiseY = snoise(vec2(transformedPos.y +uSeed, transformedPos.x + uSeed + simplexProgress * 1.) * ").concat(o,") ;\n        transformedPos.x += ").concat(t," * noiseX * simplexProgress;\n        transformedPos.y += ").concat(a," * noiseY * simplexProgress;\n    ")},wavy:function(e){var t=n(e.seed||0),a=n(e.amplitude||.5),i=n(e.frequency||4);return"\n        float limit = 0.5;\n        float wavyProgress = min(clamp((vertexProgress) / limit,0.,1.),clamp((1.-vertexProgress) / (1.-limit),0.,1.));\n  \n        float dist = length(transformedPos.xy);\n        \n        float angle = atan(transformedPos.x,transformedPos.y);\n  \n        float nextDist = dist * (".concat(a," * (sin(angle * ").concat(i," + ").concat(t,") /2.+0.5)+ 1.);\n  \n        transformedPos.x = mix(transformedPos.x,sin(angle) * nextDist ,  wavyProgress);\n        transformedPos.y = mix(transformedPos.y,cos(angle) * nextDist,  wavyProgress);\n      ")},circle:function(e){return"\n        float limit = 0.5;\n        float circleProgress = min(clamp((vertexProgress) / limit,0.,1.),clamp((1.-vertexProgress) / (1.-limit),0.,1.));\n  \n        float maxDistance = 0.5;\n        float dist = length(transformedPos.xy);\n        \n        float nextDist = min(maxDistance,dist);\n        float overload = step(maxDistance,dist);\n        float angle = atan(transformedPos.x,transformedPos.y);\n        \n        transformedPos.x = mix(transformedPos.x,sin(angle) * nextDist ,  circleProgress );\n        transformedPos.y = mix(transformedPos.y,cos(angle) * nextDist,  circleProgress);\n        transformedPos.z += -0.5 * overload * circleProgress;\n      \n    "}},i="\n      uniform float uProgress;\n      uniform vec2 uScaleToViewSize;\n      uniform vec2 uPlaneCenter;\n      uniform vec2 uMeshScale;\n      uniform vec2 uMouse;\n      uniform vec2 uViewSize;\n  \n      uniform float uClosestCorner;\n  \n      // Option Uniforms\n      uniform float uSeed;\n      uniform vec4 uBeizerControls;\n      uniform float uSyncLatestStart;\n      uniform float uActivationParts;\n      uniform bool uProgressByParts;\n      varying vec2 vUv;\n      varying vec2 scale; \n      varying float vProgress;\n  ";function o(e,t){var n="\n      ".concat(i,"\n      ").concat(r,"\n      ").concat(l,"\n  \n      ").concat(c,"\n      \n  \n      ").concat(e,"\n  float linearStep(float edge0, float edge1, float val) {\n      float x = clamp( (val  - edge0) / (edge1 - edge0),0.,1.);\n          return x;\n  }\n      void main(){\n  \n        vec3 pos = position.xyz;\n        vec2 newUV = uv;\n  \n        float activation = getActivation(uv);\n  \n  \n  \n        // Everything ends at the same time\n        float startAt = activation * uSyncLatestStart;\n        float vertexProgress = smoothstep(startAt,1.,uProgress);\n  \n  \n        if(uProgressByParts){\n          // Vertex end by parts\n          float activationPart = 1./uActivationParts;\n          float activationPartDuration = 1./(uActivationParts+1.);\n  \n          float progressStart = (activation / activationPart) * activationPartDuration;\n          float progressEnd = min(progressStart + activationPartDuration,1.);\n          vertexProgress = linearStep(progressStart,progressEnd,uProgress);\n        }\n          vec3 transformedPos = pos;\n          vec2 transformedUV = uv;\n          ").concat(t||"","\n          pos = transformedPos;\n          newUV = transformedUV; \n  \n          // Scale\n          // uScaleToViewSize\n          scale = vec2(\n            1. + uScaleToViewSize * vertexProgress\n          );\n          // Since we are moving the mesh not the geometry the geometry is in the center\n          \n          vec2 flippedPos = vec2(\n            (- pos.x) ,\n            (- pos.y ) \n          );\n  \n  \n          \n          pos.xy *= scale;\n  \n  \n          // Move to center\n          // Mesh moves it into position. Shader moves it to the center\n          pos.y += -uPlaneCenter.y * vertexProgress;\n          pos.x += -uPlaneCenter.x * vertexProgress;\n  \n          // Move slightly to the front\n          pos.z += vertexProgress;\n  \n          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n          vProgress = vertexProgress;\n        vUv = newUV;\n      }\n  "),a="\n      uniform float uProgress;\n      uniform sampler2D uImage;\n      uniform vec2 uImageRes;\n      uniform sampler2D uImageLarge;\n      uniform vec2 uImageLargeRes;\n      uniform vec2 uMeshScale;\n      \n      varying vec2 vUv;\n      varying float vProgress;\n      varying vec2 scale;\n  \n  \n      vec2 preserveAspectRatioSlice(vec2 uv, vec2 planeSize, vec2 imageSize ){\n        \n          vec2 ratio = vec2(\n              min((planeSize.x / planeSize.y) / (imageSize.x / imageSize.y), 1.0),\n              min((planeSize.y / planeSize.x) / (imageSize.y / imageSize.x), 1.0)\n          );\n          \n          \n          vec2 sliceUvs = vec2(\n              uv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n              uv.y * ratio.y + (1.0 - ratio.y) * 0.5\n          );\n  \n          return sliceUvs;\n      }\n  \n      void main(){\n   \n          vec2 uv = vUv;\n  \n          vec2 scaledPlane = uMeshScale * scale;\n  \n          \n          vec2 smallImageUV = preserveAspectRatioSlice(uv, scaledPlane, uImageRes);\n  \n          vec3 color = texture2D(uImage,smallImageUV).xyz;\n  \n          if(vProgress > 0.){\n            vec2 largeImageUV = preserveAspectRatioSlice(uv, scaledPlane, uImageLargeRes);\n            color = mix(color,texture2D(uImageLarge,largeImageUV).xyz, vProgress );\n          }\n  \n          gl_FragColor = vec4(color,1.);\n      }\n  ";return{fragment:a,vertex:n}}var s,r="\n  // Helper functions:\n  float slopeFromT (float t, float A, float B, float C){\n    float dtdx = 1.0/(3.0*A*t*t + 2.0*B*t + C); \n    return dtdx;\n  }\n  \n  float xFromT (float t, float A, float B, float C, float D){\n    float x = A*(t*t*t) + B*(t*t) + C*t + D;\n    return x;\n  }\n  \n  float yFromT (float t, float E, float F, float G, float H){\n    float y = E*(t*t*t) + F*(t*t) + G*t + H;\n    return y;\n  }\n  float cubicBezier (float x, float a, float b, float c, float d){\n  \n    float y0a = 0.00; // initial y\n    float x0a = 0.00; // initial x \n    float y1a = b;    // 1st influence y   \n    float x1a = a;    // 1st influence x \n    float y2a = d;    // 2nd influence y\n    float x2a = c;    // 2nd influence x\n    float y3a = 1.00; // final y \n    float x3a = 1.00; // final x \n  \n    float A =   x3a - 3.*x2a + 3.*x1a - x0a;\n    float B = 3.*x2a - 6.*x1a + 3.*x0a;\n    float C = 3.*x1a - 3.*x0a;   \n    float D =   x0a;\n  \n    float E =   y3a - 3.*y2a + 3.*y1a - y0a;    \n    float F = 3.*y2a - 6.*y1a + 3.*y0a;             \n    float G = 3.*y1a - 3.*y0a;             \n    float H =   y0a;\n  \n    // Solve for t given x (using Newton-Raphelson), then solve for y given t.\n    // Assume for the first guess that t = x.\n    float currentt = x;\n    const int nRefinementIterations = 5;\n    for (int i=0; i < nRefinementIterations; i++){\n      float currentx = xFromT (currentt, A,B,C,D); \n      float currentslope = slopeFromT (currentt, A,B,C);\n      currentt -= (currentx - x)*(currentslope);\n      currentt = clamp(currentt, 0.,1.);\n    } \n  \n    float y = yFromT (currentt,  E,F,G,H);\n    return y;\n  }\n  ",l="\n  vec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }\n  \n  float snoise(vec2 v){\n    const vec4 C = vec4(0.211324865405187, 0.366025403784439,\n             -0.577350269189626, 0.024390243902439);\n    vec2 i  = floor(v + dot(v, C.yy) );\n    vec2 x0 = v -   i + dot(i, C.xx);\n    vec2 i1;\n    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    vec4 x12 = x0.xyxy + C.xxzz;\n    x12.xy -= i1;\n    i = mod(i, 289.0);\n    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),\n      dot(x12.zw,x12.zw)), 0.0);\n    m = m*m ;\n    m = m*m ;\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\n    vec3 h = abs(x) - 0.5;\n    vec3 ox = floor(x + 0.5);\n    vec3 a0 = x - ox;\n    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n    vec3 g;\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n    return 130.0 * dot(m, g);\n  }\n  ",c="\n  float quadraticBezier (float x, float a, float b){\n    // adapted from BEZMATH.PS (1993)\n    // by Don Lancaster, SYNERGETICS Inc. \n    // http://www.tinaja.com/text/bezmath.html\n  \n    float epsilon = 0.00001;\n    a = max(0., min(1., a)); \n    b = max(0., min(1., b)); \n    if (a == 0.5){\n      a += epsilon;\n    }\n    \n    // solve t from x (an inverse operation)\n    float om2a = 1. - 2.*a;\n    float t = (sqrt(a*a + om2a*x) - a)/om2a;\n    float y = (1.-2.*b)*(t*t) + (2.*b)*t;\n    return y;\n  }\n  ";function u(t){var n=new e(document.getElementById("app"),document.getElementById("itemsWrapper"),Object.assign({scrollContainer:window,onToFullscreenStart:function(e){e.index},onToFullscreenFinish:function(e){e.index},onToGridStart:function(e){e.index},onToGridFinish:function(e){e.index,e.lastIndex}},t));return n}document.getElementById("itemsWrapper");var d=Object(je["a"])(document.querySelectorAll(".album__item-img:not(.album__item-img--large)")),f=Object(je["a"])(document.querySelectorAll(".fullview__item")),m=document.querySelector(".fullview__close"),p=1.5,v=document.querySelectorAll(".album__item-img:not(.album__item-img--large)");window.innerWidth>500?"wavy":"flipX";var h=u({activation:{type:"bottom"},timing:{duration:p},transformation:{type:"wavy",props:{seed:"7000",frequency:1,amplitude:.3}},onToFullscreenStart:function(e){for(var t=e.index,n=document.querySelectorAll("canvas"),a=0;a<n.length;a++)n[a].style.zIndex=14;s=t,d[s].style.opacity=1,h.uniforms.uSeed.value=10*t,_()},onToGridFinish:function(e){e.index;for(var t=e.lastIndex,n=document.querySelectorAll("canvas"),a=0;a<n.length;a++)n[a].style.zIndex=-1;d[t].style.opacity=1,f[s].classList.remove("fullview__item--current")},seed:4,easings:{toFullscreen:Quint.easeOut,toGrid:Quint.easeIn}});h.init();var _=function(){document.querySelector("html").style.overflow="hidden",h.isFullscreen?(TweenLite.to(m,.1,{ease:Quad.easeOut,opacity:1,x:"100%"}),h.toGrid()):(f[s].classList.add("fullview__item--current"),f[s].querySelector(".modal").classList.add("modal--active"),m.classList.add("active"))};m.addEventListener("click",(function(){document.querySelector(".modal--active").classList.add("modal--hide"),document.querySelector(".modal--active").classList.remove("modal--active"),m.classList.remove("active"),setTimeout((function(){document.querySelector(".modal--hide").classList.remove("modal--hide")}),1e3),h.isAnimating||(_(),document.querySelector("html").style.overflow="initial")})),Ke()(document.querySelectorAll(".album__item-img"),(function(e){document.body.classList.remove("loading");for(var t=[],n=0,a={};n<e.elements.length;n++){var i={element:e.elements[n],image:e.images[n].isLoaded?e.images[n].img:null};n%2===0&&(a={},a.small=i),n%2===1&&(a.large=i,t.push(a))}h.createTextures(t)}))};n("3754");var et={name:"ProgressCarousel",props:["items"],methods:{showItems:function(){var e=this;setTimeout((function(){var t=e.$el.querySelectorAll(".carousel__item");t.forEach((function(e){e.classList.add("active")}))}),10)}},mounted:function(){this.showItems(),setTimeout((function(){Je()}),20)}},tt=et,nt=(n("f7fb"),Object(f["a"])(tt,We,Ve,!1,null,"64a3e256",null)),at=nt.exports,it=[{date:["1","5"," ","m","a","y"],preview:n("4b42"),detail:n("9531"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["1","4"," ","m","a","y"],preview:n("3bcb"),detail:n("003c"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["1","3"," ","m","a","y"],preview:n("ecb1"),detail:n("f816"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["9"," ","m","a","y"],preview:n("4b42"),detail:n("9531"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["3","0"," ","a","p","r","i","l"],preview:n("3bcb"),detail:n("003c"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["1","5"," ","a","p","r","i","l"],preview:n("ecb1"),detail:n("f816"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["9"," ","m","a","y"],preview:n("4b42"),detail:n("9531"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["3","0"," ","a","p","r","i","l"],preview:n("3bcb"),detail:n("003c"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["1","5"," ","a","p","r","i","l"],preview:n("ecb1"),detail:n("f816"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["9"," ","m","a","y"],preview:n("4b42"),detail:n("9531"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["3","0"," ","a","p","r","i","l"],preview:n("3bcb"),detail:n("003c"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]},{date:["1","5"," ","a","p","r","i","l"],preview:n("ecb1"),detail:n("f816"),text:["Принято считать, что дома класса премиум","должны обладать общими локационными","характеристиками. Но любая общность делает","исключительное – стандартным. LEGENDA","традиционно держится своих взглядов в ущерб","массовым стереотипам. Институтский, 16 –","премиум-класс с новыми традициями своего"," сегмента."]}];n("3754");var ot={name:"Progress",data:function(){return{items:[],pageProps:{title:"Progress",link:{name:"Shedule",route:"/operating_shedule"}},scrollbar:!0,type:"half",orientation:"vertical",preloader:!0,theme:"light",appear:"normal"}},methods:{clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()}},components:{HorizontalViewAW:be,PageScroll:qe,ProgressCarousel:at,CursorCustom:z},mounted:function(){this.items=it},beforeDestroy:function(){document.querySelector("canvas").remove(),document.querySelector(".fullview__close").remove(),this.clearCursor()}},st=ot,rt=(n("3e50"),Object(f["a"])(st,ze,Re,!1,null,"681b19cb",null)),lt=rt.exports,ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base",attrs:{id:"itemsWrapper"}},[n("CursorCustom",{attrs:{theme:e.theme}}),n("HorizontalViewAW",{attrs:{theme:e.theme,appear:e.appear,animation:e.animation}},[n("PageGallery",[n("GalleryCarousel",{attrs:{items:e.items}}),n("div",{staticClass:"fullview"}),e._l(e.items,(function(e){return n("div",{staticClass:"fullview__item"})})),n("button",{staticClass:"fullview__close zoom-out",attrs:{"aria-label":"Close preview"}})],2)],1)],1)},ut=[],dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gallery"},[e._t("default")],2)},ft=[],mt={name:"PageGallery",mounted:function(){this.$el.classList.add("show")}},pt=mt,vt=(n("b00f"),Object(f["a"])(pt,dt,ft,!1,null,null,null)),ht=vt.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"gallery__carousel",class:{active:e.showSlides}},[n("div",{staticClass:"gallery__inner",class:{active:e.active},style:{transform:"translate3d("+e.translate+"px, 0, 0)"}},e._l(e.items,(function(e){return n("div",{staticClass:"gallery__item zoom"},[n("img",{staticClass:"album__item-img album__item-img--small",attrs:{src:e.preview}}),n("img",{staticClass:"album__item-img album__item-img--large",attrs:{src:e.detail}})])})),0),n("div",{staticClass:"return circle__link",class:{active:e.returnArrow}}),n("div",{staticClass:"close cursor__link",class:{active:e.showSlides},on:{click:function(t){return e.close()}}}),n("div",{staticClass:"hidden__arrow prev"}),n("div",{staticClass:"hidden__arrow next"}),n("div",{staticClass:"slider__controls",class:{active:e.showSlides}},[n("div",{staticClass:"half"},[n("div",{staticClass:"show__slides optional__button circle__link",on:{click:function(t){e.showSlides=!e.showSlides}}},[e._v("Show all")]),e._m(0)]),n("div",{staticClass:"center"},[n("div",{staticClass:"slider__counter"},[e._v(e._s(e.current+"/"+e.allSlides))])]),e._m(1)])])},xt=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"slider__button circle__link prev"},[a("img",{attrs:{src:n("4144")}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"half"},[a("div",{staticClass:"slider__button circle__link next"},[a("img",{attrs:{src:n("5c7d")}})]),a("div",{staticClass:"zoom-it optional__button"},[e._v("Zoom it")])])}],gt=function(){document.querySelector(".gallery").style.transform="none";var e=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(C["a"])(this,e),this.container=t,this.itemsWrapper=n,this.initialised=!1,this.camera=null,this.scene=null,this.renderer=null,a.scrollContainer=a.scrollContainer||null,a.timing=a.timing||{},a.timing.type=a.timing.type||"sameStart",a.timing.sections=a.timing.sections||.5,a.timing.latestStart=a.timing.latestStart||.5,a.timing.duration=a.timing.duration||.5,a.transformation=a.transformation||{},a.transformation.type=a.transformation.type||"none",a.transformation.props=a.transformation.props||{},a.activation.type=a.activation.type||"topLeft",a.seed=a.seed||0,a.easings=a.easings||{},a.easings.toFullscreen=a.easings.toFullscreen||Power0.easeNone,a.easings.toGrid=a.easings.toGrid||Power0.easeNone,a.flipBeizerControls=a.flipBeizerControls||{},a.flipBeizerControls.c0=a.flipBeizerControls.c0||{},a.flipBeizerControls.c0.x=a.flipBeizerControls.c0.x||.5,a.flipBeizerControls.c0.y=a.flipBeizerControls.c0.y||.5,a.flipBeizerControls.c1=a.flipBeizerControls.c1||{},a.flipBeizerControls.c1.x=a.flipBeizerControls.c1.x||.5,a.flipBeizerControls.c1.y=a.flipBeizerControls.c1.y||.5,this.options=a,this.uniforms={uImage:new $e["Uniform"](null),uImageRes:new $e["Uniform"](new $e["Vector2"](1,1)),uImageLarge:new $e["Uniform"](null),uImageLargeRes:new $e["Uniform"](new $e["Vector2"](1,1)),uProgress:new $e["Uniform"](0),uMeshScale:new $e["Uniform"](new $e["Vector2"](1,1)),uPlaneCenter:new $e["Uniform"](new $e["Vector2"](0,0)),uViewSize:new $e["Uniform"](new $e["Vector2"](1,1)),uScaleToViewSize:new $e["Uniform"](new $e["Vector2"](1,1)),uClosestCorner:new $e["Uniform"](0),uMouse:new $e["Uniform"](new $e["Vector2"](0,0)),uSeed:new $e["Uniform"](a.seed),uProgressByParts:new $e["Uniform"]("sections"===a.timing.type),uActivationParts:new $e["Uniform"](a.timing.sections),uSyncLatestStart:new $e["Uniform"](a.timing.latestStart),uBeizerControls:new $e["Uniform"](new $e["Vector4"](a.flipBeizerControls.c0.x,a.flipBeizerControls.c0.y,a.flipBeizerControls.c1.x,a.flipBeizerControls.c1.y))},this.textures=[],this.currentImageIndex=-1,this.isFullscreen=!1,this.isAnimating=!1,this.onResize=this.onResize=this.onResize.bind(this)}return Object(L["a"])(e,[{key:"resetUniforms",value:function(){this.uniforms.uMeshScale.value=new $e["Vector2"](1,1),this.uniforms.uPlaneCenter.value=new $e["Vector2"](0,0),this.uniforms.uScaleToViewSize.value=new $e["Vector2"](1,1),this.uniforms.uClosestCorner.value=0,this.uniforms.uMouse.value=new $e["Vector2"](0,0),this.uniforms.uImage.value=null,this.uniforms.uImageRes.value=new $e["Vector2"](1,1),this.uniforms.uImageLarge.value=null,this.uniforms.uImageLargeRes.value=new $e["Vector2"](1,1);var e=this.mesh;e.scale.x=1e-5,e.scale.y=1e-5,e.position.x=0,e.position.y=0}},{key:"createTextures",value:function(e){for(var t=[],n=0;n<e.length;n++){var a=e[n],i=new $e["Texture"](a.large.image);i.generateMipmaps=!1,i.wrapS=i.wrapT=$e["ClampToEdgeWrapping"],i.minFilter=$e["LinearFilter"],i.needsUpdate=!0;var o=new $e["Texture"](a.small.image);o.generateMipmaps=!1,o.wrapS=o.wrapT=$e["ClampToEdgeWrapping"],o.minFilter=$e["LinearFilter"],o.needsUpdate=!0;var s={large:{element:a.large.element,texture:i},small:{element:a.small.element,texture:o}};t.push(s)}this.textures=t,this.setCurrentTextures()}},{key:"setCurrentTextures",value:function(){if(-1!==this.currentImageIndex){var e=this.textures[this.currentImageIndex];this.uniforms.uImage.value=e.small.texture,this.uniforms.uImageRes.value.x=e.small.texture.image.naturalWidth,this.uniforms.uImageRes.value.y=e.small.texture.image.naturalHeight,this.uniforms.uImageLarge.value=e.large.texture,this.uniforms.uImageLargeRes.value.x=e.large.texture.image.naturalWidth,this.uniforms.uImageLargeRes.value.y=e.large.texture.image.naturalHeight,this.isAnimating||this.render()}}},{key:"init",value:function(){var e=this;this.renderer=new $e["WebGLRenderer"]({alpha:!0,antialias:!0}),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),this.container.appendChild(this.renderer.domElement),this.scene=new $e["Scene"],this.camera=new $e["PerspectiveCamera"](45,window.innerWidth/window.innerHeight,.1,1e4),this.camera.position.z=50,this.camera.lookAt=this.scene.position;var n=this.getViewSize();this.uniforms.uViewSize.value=new $e["Vector2"](n.width,n.height);var i=128,s=new $e["PlaneBufferGeometry"](1,1,i,i);function r(e){return e&&"[object Function]"==={}.toString.call(e)}var l=r(this.options.transformation.type)?this.options.transformation.type(this.options.transformation.props):a[this.options.transformation.type](this.options.transformation.props),c=o(t[this.options.activation.type],l),u=new $e["ShaderMaterial"]({uniforms:this.uniforms,vertexShader:c.vertex,fragmentShader:c.fragment,side:$e["DoubleSide"]});this.mesh=new $e["Mesh"](s,u),this.scene.add(this.mesh),window.addEventListener("resize",this.onResize),this.options.scrollContainer&&this.options.scrollContainer.addEventListener("scroll",(function(t){e.recalculateUniforms(t)}));for(var d=0;d<v.length;d++){var f=v[d];f.addEventListener("mousedown",this.createOnMouseDown(d))}}},{key:"createOnMouseDown",value:function(e){var t=this;return function(n){t.toFullscreen(e,n)}}},{key:"toGrid",value:function(){var e=this;this.isFullscreen&&!this.isAnimating&&(this.isAnimating=!0,this.options.onToGridStart&&this.options.onToGridStart({index:this.currentImageIndex}),this.tween=TweenLite.to(this.uniforms.uProgress,this.options.timing.duration,{value:0,ease:this.options.easings.toGrid,onUpdate:function(){e.render()},onComplete:function(){e.options.onToGridFinish&&e.options.onToGridFinish({index:-1,lastIndex:e.currentImageIndex}),e.isAnimating=!1,e.isFullscreen=!1,e.itemsWrapper.style.zIndex=1,e.container.style.zIndex=0,e.resetUniforms(),e.render(),e.currentImageIndex=-1}}))}},{key:"recalculateUniforms",value:function(e){if(-1!==this.currentImageIndex){var t=v[this.currentImageIndex].getBoundingClientRect(),n={x:(e.clientX-t.left)/t.width,y:1-(e.clientY-t.top)/t.height},a=t.left>window.innerWidth-(t.left+t.width),i=t.top>window.innerHeight-(t.top+t.height),o=2*a+i;this.uniforms.uClosestCorner.value=o,this.uniforms.uMouse.value=new $e["Vector2"](n.x,n.y);var s=this.getViewSize(),r=t.width*s.width/window.innerWidth,l=t.height*s.height/window.innerHeight,c=t.left*s.width/window.innerWidth-s.width/2,u=t.top*s.height/window.innerHeight-s.height/2,d=(this.mesh.geometry,this.mesh);d.scale.x=r,d.scale.y=l;var f=c+r/2,m=-u-l/2;d.position.x=f,d.position.y=m,this.uniforms.uPlaneCenter.value.x=f/r,this.uniforms.uPlaneCenter.value.y=m/l,this.uniforms.uMeshScale.value.x=r,this.uniforms.uMeshScale.value.y=l,this.uniforms.uScaleToViewSize.value.x=s.width/r-1,this.uniforms.uScaleToViewSize.value.y=s.height/l-1}}},{key:"toFullscreen",value:function(e,t){var n=this;if(!this.isFullscreen&&!this.isAnimating){if(this.isAnimating=!0,this.currentImageIndex=e,this.recalculateUniforms(t),this.textures[e]){var a=this.textures[e];this.uniforms.uImage.value=a.small.texture,this.uniforms.uImageRes.value.x=a.small.texture.image.naturalWidth,this.uniforms.uImageRes.value.y=a.small.texture.image.naturalHeight,this.uniforms.uImageLarge.value=a.large.texture,this.uniforms.uImageLargeRes.value.x=a.large.texture.image.naturalWidth,this.uniforms.uImageLargeRes.value.y=a.large.texture.image.naturalHeight}this.itemsWrapper.style.zIndex=1,this.container.style.zIndex=2,this.options.onToFullscreenStart&&this.options.onToFullscreenStart({index:this.currentImageIndex}),this.tween=TweenLite.to(this.uniforms.uProgress,this.options.timing.duration,{value:1,ease:this.options.easings.toFullscreen,onUpdate:function(){n.render()},onComplete:function(){n.isAnimating=!1,n.isFullscreen=!0,n.options.onToFullscreenFinish&&n.options.onToFullscreenFinish({index:n.currentImageIndex})}})}}},{key:"getViewSize",value:function(){var e=this.camera.fov*Math.PI/180,t=Math.abs(this.camera.position.z*Math.tan(e/2)*2);return{width:t*this.camera.aspect,height:t}}},{key:"render",value:function(){this.renderer.render(this.scene,this.camera)}},{key:"onResize",value:function(e){this.camera.aspect=window.innerWidth/window.innerHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(window.innerWidth,window.innerHeight),this.currentImageIndex>-1&&(this.recalculateUniforms(e),this.render())}}]),e}(),t={corners:"\n      float getActivation(vec2 uv){\n        float top = (1.-uv.y);\n        float right = uv.x;\n        float bottom = uv.y;\n        float left = 1.- uv.x;\n  \n        return top *0.333333 + (right * 0.333333 + (right * bottom)*0.666666 );\n    }\n    ",topLeft:"\n      float getActivation(vec2 uv){\n          return (+uv.x-uv.y+1.)/2.;\n      }\n    ",sides:"\n        float getActivation(vec2 uv){\n          return min(uv.x, 1.-uv.x) * 2.;\n        }\n    ",left:"\n      float getActivation(vec2 uv){\n          return uv.x;\n      }\n      ",top:"\n      float getActivation(vec2 uv){\n          return 1. - uv.y;\n      }\n      ",bottom:"\n      float getActivation(vec2 uv){\n          return uv.y;\n      }\n      ",bottomStep:"\n      float getActivation(vec2 uv){\n          \n          \n          return uv.y;\n      }\n      ",sinX:"\n        float getActivation(vec2 uv){\n          return sin(uv.x * 3.14);\n        }\n      ",center:"\n        float getActivation(vec2 uv){\n          float maxDistance = distance(vec2(0.),vec2(0.5));\n          float dist = distance(vec2(0.), uv-0.5);\n          return smoothstep(0.,maxDistance,dist);\n        }\n      ",mouse:"\n        float getActivation(vec2 uv){\n          float maxDistance = distance(uMouse, 1.-floor(uMouse+0.5));\n          float dist = smoothstep(0.,maxDistance,distance(uMouse,uv));\n          return dist;\n        }\n      ",closestCorner:"\n        float getActivation(vec2 uv){\n  \n          float y = mod(uClosestCorner,2.) *2. -1.;\n          float x = (floor(uClosestCorner /2.)*2.-1.)*-1.;\n  \n          float xAct = abs(min(0.,x)) + uv.x * x;\n          float yAct = abs(min(0.,y)) + uv.y * y;\n  \n          return (xAct+yAct)/2.;\n        }\n      ",closestSide:"\n        float getActivation(vec2 uv){\n  \n          float y = mod(uClosestCorner,2.) *2. -1.;\n          float x = (floor(uClosestCorner /2.)*2.-1.)*-1.;\n  \n          float xAct = abs(min(0.,x)) + uv.x * x;\n          float yAct = abs(min(0.,y)) + uv.y * y;\n  \n          return (xAct+yAct)/2.;\n        }\n      "};function n(e){var t=e.toString(),n=t.indexOf(".");return-1===n&&(t+="."),t}var a={none:function(){return null},flipX:function(){return"\n      \n          float beizerProgress = cubicBezier(vertexProgress,\n          uBeizerControls.x,uBeizerControls.y,\n          uBeizerControls.z,uBeizerControls.w);\n  \n          float flippedX = -transformedPos.x;\n          transformedPos.x = mix (transformedPos.x, flippedX,beizerProgress );\n            \n            // Flip texture on flipped sections \n          // float activationAtX0 = getActivation(vec2(0.,transformedUV.y));\n          // float activationAtX1 = getActivation(vec2(1.,transformedUV.y));\n          //   float syncDifference = \n          //     activationAtX1 * uSyncLatestStart - activationAtX0 * uSyncLatestStart;\n            float syncDifference =  uSyncLatestStart;\n              \n              // Flip the controls because who knows why\n              // But it works exactly\n  \n            // Multiply by aspect ratio to account for mesh scaling\n            float aspectRatio = (uMeshScale.x / uMeshScale.y);\n            float stepFormula = 0.5 - (syncDifference * uSyncLatestStart * uSyncLatestStart) * aspectRatio;\n  \n            transformedUV.x = mix(transformedUV.x,1.-transformedUV.x,\n                step(stepFormula,beizerProgress));\n        "},simplex:function(e){n(e.seed||0);var t=n(e.amplitudeX||.5),a=n(e.amplitudeY||.5),i=n(e.frequencyX||1),o=n(e.frequencyY||.75),s=n(e.progressLimit||.5);return"\n        float simplexProgress = min(clamp((vertexProgress) / ".concat(s,",0.,1.),clamp((1.-vertexProgress) / (1.-").concat(s,"),0.,1.));\n        simplexProgress = smoothstep(0.,1.,simplexProgress);\n        float noiseX = snoise(vec2(transformedPos.x +uSeed, transformedPos.y + uSeed + simplexProgress * 1.) * ").concat(i," ) ;\n        float noiseY = snoise(vec2(transformedPos.y +uSeed, transformedPos.x + uSeed + simplexProgress * 1.) * ").concat(o,") ;\n        transformedPos.x += ").concat(t," * noiseX * simplexProgress;\n        transformedPos.y += ").concat(a," * noiseY * simplexProgress;\n    ")},wavy:function(e){var t=n(e.seed||0),a=n(e.amplitude||.5),i=n(e.frequency||4);return"\n        float limit = 0.5;\n        float wavyProgress = min(clamp((vertexProgress) / limit,0.,1.),clamp((1.-vertexProgress) / (1.-limit),0.,1.));\n  \n        float dist = length(transformedPos.xy);\n        \n        float angle = atan(transformedPos.x,transformedPos.y);\n  \n        float nextDist = dist * (".concat(a," * (sin(angle * ").concat(i," + ").concat(t,") /2.+0.5)+ 1.);\n  \n        transformedPos.x = mix(transformedPos.x,sin(angle) * nextDist ,  wavyProgress);\n        transformedPos.y = mix(transformedPos.y,cos(angle) * nextDist,  wavyProgress);\n      ")},circle:function(e){return"\n        float limit = 0.5;\n        float circleProgress = min(clamp((vertexProgress) / limit,0.,1.),clamp((1.-vertexProgress) / (1.-limit),0.,1.));\n  \n        float maxDistance = 0.5;\n        float dist = length(transformedPos.xy);\n        \n        float nextDist = min(maxDistance,dist);\n        float overload = step(maxDistance,dist);\n        float angle = atan(transformedPos.x,transformedPos.y);\n        \n        transformedPos.x = mix(transformedPos.x,sin(angle) * nextDist ,  circleProgress );\n        transformedPos.y = mix(transformedPos.y,cos(angle) * nextDist,  circleProgress);\n        transformedPos.z += -0.5 * overload * circleProgress;\n      \n    "}},i="\n      uniform float uProgress;\n      uniform vec2 uScaleToViewSize;\n      uniform vec2 uPlaneCenter;\n      uniform vec2 uMeshScale;\n      uniform vec2 uMouse;\n      uniform vec2 uViewSize;\n  \n      uniform float uClosestCorner;\n  \n      // Option Uniforms\n      uniform float uSeed;\n      uniform vec4 uBeizerControls;\n      uniform float uSyncLatestStart;\n      uniform float uActivationParts;\n      uniform bool uProgressByParts;\n      varying vec2 vUv;\n      varying vec2 scale; \n      varying float vProgress;\n  ";function o(e,t){var n="\n      ".concat(i,"\n      ").concat(r,"\n      ").concat(l,"\n  \n      ").concat(c,"\n      \n  \n      ").concat(e,"\n  float linearStep(float edge0, float edge1, float val) {\n      float x = clamp( (val  - edge0) / (edge1 - edge0),0.,1.);\n          return x;\n  }\n      void main(){\n  \n        vec3 pos = position.xyz;\n        vec2 newUV = uv;\n  \n        float activation = getActivation(uv);\n  \n  \n  \n        // Everything ends at the same time\n        float startAt = activation * uSyncLatestStart;\n        float vertexProgress = smoothstep(startAt,1.,uProgress);\n  \n  \n        if(uProgressByParts){\n          // Vertex end by parts\n          float activationPart = 1./uActivationParts;\n          float activationPartDuration = 1./(uActivationParts+1.);\n  \n          float progressStart = (activation / activationPart) * activationPartDuration;\n          float progressEnd = min(progressStart + activationPartDuration,1.);\n          vertexProgress = linearStep(progressStart,progressEnd,uProgress);\n        }\n          vec3 transformedPos = pos;\n          vec2 transformedUV = uv;\n          ").concat(t||"","\n          pos = transformedPos;\n          newUV = transformedUV; \n  \n          // Scale\n          // uScaleToViewSize\n          scale = vec2(\n            1. + uScaleToViewSize * vertexProgress\n          );\n          // Since we are moving the mesh not the geometry the geometry is in the center\n          \n          vec2 flippedPos = vec2(\n            (- pos.x) ,\n            (- pos.y ) \n          );\n  \n  \n          \n          pos.xy *= scale;\n  \n  \n          // Move to center\n          // Mesh moves it into position. Shader moves it to the center\n          pos.y += -uPlaneCenter.y * vertexProgress;\n          pos.x += -uPlaneCenter.x * vertexProgress;\n  \n          // Move slightly to the front\n          pos.z += vertexProgress;\n  \n          gl_Position = projectionMatrix * modelViewMatrix * vec4(pos,1.);\n          vProgress = vertexProgress;\n        vUv = newUV;\n      }\n  "),a="\n      uniform float uProgress;\n      uniform sampler2D uImage;\n      uniform vec2 uImageRes;\n      uniform sampler2D uImageLarge;\n      uniform vec2 uImageLargeRes;\n      uniform vec2 uMeshScale;\n      \n      varying vec2 vUv;\n      varying float vProgress;\n      varying vec2 scale;\n  \n  \n      vec2 preserveAspectRatioSlice(vec2 uv, vec2 planeSize, vec2 imageSize ){\n        \n          vec2 ratio = vec2(\n              min((planeSize.x / planeSize.y) / (imageSize.x / imageSize.y), 1.0),\n              min((planeSize.y / planeSize.x) / (imageSize.y / imageSize.x), 1.0)\n          );\n          \n          \n          vec2 sliceUvs = vec2(\n              uv.x * ratio.x + (1.0 - ratio.x) * 0.5,\n              uv.y * ratio.y + (1.0 - ratio.y) * 0.5\n          );\n  \n          return sliceUvs;\n      }\n  \n      void main(){\n   \n          vec2 uv = vUv;\n  \n          vec2 scaledPlane = uMeshScale * scale;\n  \n          \n          vec2 smallImageUV = preserveAspectRatioSlice(uv, scaledPlane, uImageRes);\n  \n          vec3 color = texture2D(uImage,smallImageUV).xyz;\n  \n          if(vProgress > 0.){\n            vec2 largeImageUV = preserveAspectRatioSlice(uv, scaledPlane, uImageLargeRes);\n            color = mix(color,texture2D(uImageLarge,largeImageUV).xyz, vProgress );\n          }\n  \n          gl_FragColor = vec4(color,1.);\n      }\n  ";return{fragment:a,vertex:n}}var s,r="\n  // Helper functions:\n  float slopeFromT (float t, float A, float B, float C){\n    float dtdx = 1.0/(3.0*A*t*t + 2.0*B*t + C); \n    return dtdx;\n  }\n  \n  float xFromT (float t, float A, float B, float C, float D){\n    float x = A*(t*t*t) + B*(t*t) + C*t + D;\n    return x;\n  }\n  \n  float yFromT (float t, float E, float F, float G, float H){\n    float y = E*(t*t*t) + F*(t*t) + G*t + H;\n    return y;\n  }\n  float cubicBezier (float x, float a, float b, float c, float d){\n  \n    float y0a = 0.00; // initial y\n    float x0a = 0.00; // initial x \n    float y1a = b;    // 1st influence y   \n    float x1a = a;    // 1st influence x \n    float y2a = d;    // 2nd influence y\n    float x2a = c;    // 2nd influence x\n    float y3a = 1.00; // final y \n    float x3a = 1.00; // final x \n  \n    float A =   x3a - 3.*x2a + 3.*x1a - x0a;\n    float B = 3.*x2a - 6.*x1a + 3.*x0a;\n    float C = 3.*x1a - 3.*x0a;   \n    float D =   x0a;\n  \n    float E =   y3a - 3.*y2a + 3.*y1a - y0a;    \n    float F = 3.*y2a - 6.*y1a + 3.*y0a;             \n    float G = 3.*y1a - 3.*y0a;             \n    float H =   y0a;\n  \n    // Solve for t given x (using Newton-Raphelson), then solve for y given t.\n    // Assume for the first guess that t = x.\n    float currentt = x;\n    const int nRefinementIterations = 5;\n    for (int i=0; i < nRefinementIterations; i++){\n      float currentx = xFromT (currentt, A,B,C,D); \n      float currentslope = slopeFromT (currentt, A,B,C);\n      currentt -= (currentx - x)*(currentslope);\n      currentt = clamp(currentt, 0.,1.);\n    } \n  \n    float y = yFromT (currentt,  E,F,G,H);\n    return y;\n  }\n  ",l="\n  vec3 permute(vec3 x) { return mod(((x*34.0)+1.0)*x, 289.0); }\n  \n  float snoise(vec2 v){\n    const vec4 C = vec4(0.211324865405187, 0.366025403784439,\n             -0.577350269189626, 0.024390243902439);\n    vec2 i  = floor(v + dot(v, C.yy) );\n    vec2 x0 = v -   i + dot(i, C.xx);\n    vec2 i1;\n    i1 = (x0.x > x0.y) ? vec2(1.0, 0.0) : vec2(0.0, 1.0);\n    vec4 x12 = x0.xyxy + C.xxzz;\n    x12.xy -= i1;\n    i = mod(i, 289.0);\n    vec3 p = permute( permute( i.y + vec3(0.0, i1.y, 1.0 ))\n    + i.x + vec3(0.0, i1.x, 1.0 ));\n    vec3 m = max(0.5 - vec3(dot(x0,x0), dot(x12.xy,x12.xy),\n      dot(x12.zw,x12.zw)), 0.0);\n    m = m*m ;\n    m = m*m ;\n    vec3 x = 2.0 * fract(p * C.www) - 1.0;\n    vec3 h = abs(x) - 0.5;\n    vec3 ox = floor(x + 0.5);\n    vec3 a0 = x - ox;\n    m *= 1.79284291400159 - 0.85373472095314 * ( a0*a0 + h*h );\n    vec3 g;\n    g.x  = a0.x  * x0.x  + h.x  * x0.y;\n    g.yz = a0.yz * x12.xz + h.yz * x12.yw;\n    return 130.0 * dot(m, g);\n  }\n  ",c="\n  float quadraticBezier (float x, float a, float b){\n    // adapted from BEZMATH.PS (1993)\n    // by Don Lancaster, SYNERGETICS Inc. \n    // http://www.tinaja.com/text/bezmath.html\n  \n    float epsilon = 0.00001;\n    a = max(0., min(1., a)); \n    b = max(0., min(1., b)); \n    if (a == 0.5){\n      a += epsilon;\n    }\n    \n    // solve t from x (an inverse operation)\n    float om2a = 1. - 2.*a;\n    float t = (sqrt(a*a + om2a*x) - a)/om2a;\n    float y = (1.-2.*b)*(t*t) + (2.*b)*t;\n    return y;\n  }\n  ";function u(t){var n=new e(document.getElementById("app"),document.getElementById("itemsWrapper"),Object.assign({scrollContainer:window,onToFullscreenStart:function(e){e.index},onToFullscreenFinish:function(e){e.index},onToGridStart:function(e){e.index},onToGridFinish:function(e){e.index,e.lastIndex}},t));return n}document.getElementById("itemsWrapper");var d=Object(je["a"])(document.querySelectorAll(".album__item-img:not(.album__item-img--large)")),f=Object(je["a"])(document.querySelectorAll(".fullview__item")),m=document.querySelector(".fullview__close"),p=1.5,v=document.querySelectorAll(".album__item-img:not(.album__item-img--large)");window.innerWidth>500?"wavy":"flipX";var h=u({activation:{type:"bottom"},timing:{duration:p},transformation:{type:"wavy",props:{seed:"7000",frequency:1,amplitude:.3}},onToFullscreenStart:function(e){for(var t=e.index,n=document.querySelectorAll("canvas"),a=0;a<n.length;a++)n[a].style.zIndex=14;s=t,d[s].style.opacity=1,h.uniforms.uSeed.value=10*t,_()},onToGridFinish:function(e){e.index;for(var t=e.lastIndex,n=document.querySelectorAll("canvas"),a=0;a<n.length;a++)n[a].style.zIndex=-1;d[t].style.opacity=1,f[s].classList.remove("fullview__item--current")},seed:400,easings:{toFullscreen:Quint.easeOut,toGrid:Quint.easeOut}});h.init();var _=function(){document.querySelector("html").style.overflow="hidden",h.isFullscreen?h.toGrid():(f[s].classList.add("fullview__item--current"),setTimeout((function(){m.classList.add("active")}),900))};m.addEventListener("click",(function(){_(),m.classList.remove("active"),h.isAnimating})),Ke()(document.querySelectorAll(".album__item-img"),(function(e){document.body.classList.remove("loading");for(var t=[],n=0,a={};n<e.elements.length;n++){var i={element:e.elements[n],image:e.images[n].isLoaded?e.images[n].img:null};n%2===0&&(a={},a.small=i),n%2===1&&(a.large=i,t.push(a))}h.createTextures(t)}))};n("7bf0");var At={props:["items"],name:"GalleryCarousel",data:function(){return{translate:0,current:1,clearSize:0,allSlides:0,active:!1,returnArrow:!1,showSlides:!1}},methods:{scrollBust:function(){var e=this,t=this.$el.querySelectorAll(".gallery__item"),n=document.querySelector(".gallery"),a=this.$el.querySelector(".gallery__inner");n.addEventListener("mousedown",(function(){for(var e=0;e<t.length;e++)t[e].classList.add("gallery__item--active")})),n.addEventListener("mouseup",(function(){for(var e=0;e<t.length;e++)t[e].classList.remove("gallery__item--active")}));var i=new ie.a({viewport:n,bounce:!0,content:a,emulateScroll:!0,mode:"x",onUpdate:function(t){0==e.active&&(e.translate=-t.position.x,e.translate<-200?e.returnArrow=!0:e.returnArrow=!1)}});this.$el.querySelector(".return").addEventListener("click",(function(){e.$el.querySelector(".gallery__inner").style.transitionDuration=".6s",i.setPosition({x:0}),setTimeout((function(){e.$el.querySelector(".gallery__inner").style.transitionDuration=""}),1e3)}))},sliderChange:function(){var e,t,n,a,i,o,s=this,r=this.$el.querySelectorAll(".gallery__item"),l=this.$el.querySelector(".gallery__inner"),c=this.$el.querySelector(".slider__button.next"),u=this.$el.querySelector(".slider__button.prev"),d=this.$el.querySelector(".hidden__arrow.next"),f=this.$el.querySelector(".hidden__arrow.prev"),m=[{width:2600,coeff:30},{width:1600,coeff:15},{width:1400,coeff:60},{width:1200,coeff:50},{width:1e3,coeff:30},{width:900,coeff:0},{width:500,coeff:100},{width:400,coeff:85},{width:350,coeff:75}];r.forEach((function(e){e.classList.add("visible"),setTimeout((function(){e.style.transitionDelay="0s"}),2e3)}));var p=function(e){e="string"===typeof e?document.querySelector(e):e;var t=window.getComputedStyle(e),n=parseFloat(t["marginRight"])+parseFloat(t["marginLeft"]);return Math.ceil(e.offsetWidth+n)};this.$el.querySelector(".show__slides").addEventListener("click",(function(){s.$el.querySelector(".show__slides").classList.contains("active")?r[0].click():s.close()})),this.$el.querySelector(".zoom-it").addEventListener("click",(function(){var e=function(e,t){var n=new MouseEvent("mousedown",{view:window,bubbles:!0,cancelable:!0,screenX:e,screenY:t}),a=document.elementFromPoint(e,t);a.dispatchEvent(n)};e(window.innerWidth/2,window.innerHeight/2)})),this.allSlides=r.length;for(var v=function(n){t=p(r[n]),r[n].style.left="".concat(t*n,"px"),l.style.width="".concat(t*r.length,"px"),r[n].addEventListener("click",(function(){e=n,s.showSlides=!0,s.active=!0,s.returnArrow=!1,a=e,g(a)}))},h=0;h<r.length;h++)v(h);var _=function(){a=e-1,a>-1&&r[a].click()},x=function(){a=e+1,a<s.allSlides&&r[a].click()};c.addEventListener("click",(function(){x()})),u.addEventListener("click",(function(){_()})),d.addEventListener("click",(function(){x()})),f.addEventListener("click",(function(){_()}));var g=function(a){for(var l=0;l<r.length;l++)r[l].classList.remove("active"),r[l].classList.remove("right"),r[l].classList.remove("left"),l>a&&r[l].classList.add("right"),l<a&&r[l].classList.add("left");r[a].classList.add("active"),n=t*a;for(var d=0;d<m.length;d++)window.innerWidth<=m[d].width&&(o=m[d].coeff);var f;f=window.innerWidth>900?2.7:window.innerWidth<900?2:2.1,i=window.innerWidth/2-r[a].offsetWidth*f/2+o,s.translate=n>1?-(n-i):1==n?n-i:i,s.clearSize=n,s.current=e+1,s.current>=r.length?c.classList.add("disable"):s.current<=1?u.classList.add("disable"):(c.classList.remove("disable"),u.classList.remove("disable"))}},close:function(){this.showSlides=!1,this.active=!1;for(var e=document.querySelectorAll(".gallery__item"),t=0;t<e.length;t++)e[t].classList.remove("active"),e[t].classList.remove("right"),e[t].classList.remove("left")},moveCarousel:function(){this.$el.classList.add("move")},mobile:function(){this.$el.appendChild(this.$el.querySelector(".show__slides"))}},mounted:function(){window.innerWidth>900?gt():this.mobile(),this.moveCarousel(),this.sliderChange(),this.scrollBust()}},yt=At,Pt=(n("02a0"),Object(f["a"])(yt,_t,xt,!1,null,"29f0ce2d",null)),Ft=Pt.exports,bt={name:"Gallery",data:function(){return{pageProps:{title:"Gallery",link:{name:"test",route:"/"}},items:[{preview:n("e2b8"),detail:n("0240")},{preview:n("77268"),detail:n("8803")},{preview:n("0517"),detail:n("55fa")},{preview:n("e2b8"),detail:n("0240")},{preview:n("77268"),detail:n("8803")},{preview:n("0517"),detail:n("55fa")},{preview:n("e2b8"),detail:n("0240")},{preview:n("77268"),detail:n("8803")},{preview:n("0517"),detail:n("55fa")},{preview:n("e2b8"),detail:n("0240")},{preview:n("77268"),detail:n("8803")},{preview:n("0517"),detail:n("55fa")},{preview:n("e2b8"),detail:n("0240")}],scrollbar:!0,type:"full",theme:"light",appear:"normal",animation:"clear"}},methods:{clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()}},beforeDestroy:function(){document.querySelector(".fullview__close").remove(),document.querySelector("canvas").remove(),this.clearCursor()},components:{HorizontalViewAW:be,PageGallery:ht,GalleryCarousel:Ft,CursorCustom:z}},wt=bt,St=(n("d520"),Object(f["a"])(wt,ct,ut,!1,null,"5ffabe3c",null)),Ct=St.exports,Lt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base"},[n("CursorCustom",{attrs:{theme:e.theme}}),n("HorizontalViewAW",{attrs:{theme:e.theme,appear:e.appear,scrollbar:e.scrollbar}},[n("Operating")],1)],1)},Tt=[],Et=n("bd86"),It=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"operating"},[e._m(0),n("div",{staticClass:"operating__back"},[n("Canvas2")],1),e._m(1),n("div",{ref:"container",staticClass:"operating__inner",style:{transform:"translate3d(0, -"+e.translate+"px, 0) "}},[n("swiper",{staticClass:"slider",attrs:{options:e.swiperOption}},e._l(e.operations,(function(e){return n("swiper-slide",[n("OperatingTable",{attrs:{events:e.events,title:e.title}})],1)})),1)],1)])},Nt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"operating__head"},[n("div",{staticClass:"head__part"},[n("h1",{staticClass:"title"},[n("span",[e._v("O")]),n("span",[e._v("p")]),n("span",[e._v("e")]),n("span",[e._v("r")]),n("span",[e._v("a")]),n("span",[e._v("t")]),n("span",[e._v("i")]),n("span",[e._v("n")]),n("span",[e._v("g")]),n("span",[e._v(" ")]),n("span",[e._v("s")]),n("span",[e._v("h")]),n("span",[e._v("e")]),n("span",[e._v("d")]),n("span",[e._v("u")]),n("span",[e._v("l")]),n("span",[e._v("e")])])]),n("div",{staticClass:"head__part"},[n("p",[n("span",[e._v("The published schedule of works ensures the completion of construction in")]),n("span",[e._v("accordance with the concluded DDU: the commissioning of the facility is planned")]),n("span",[e._v("September-October 2018, key transfer - for the IV quarter of 2018.")])])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"operating__controls"},[a("div",{staticClass:"arrows"},[a("div",{staticClass:"arrow next circle__link"},[a("img",{attrs:{src:n("7e24")}})]),a("div",{staticClass:"arrow prev circle__link"},[a("img",{attrs:{src:n("bd8c")}})])])])}],Ut=(n("dfa4"),n("7212")),Xt=n.n(Ut),Mt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"operating__table"},[n("div",{staticClass:"row head__row"},[n("div",{staticClass:"elem title"},[e._v(e._s(e.title))]),n("div",{staticClass:"elem",attrs:{"data-number":"1"}},[e._v("01")]),n("div",{staticClass:"elem",attrs:{"data-number":"2"}},[e._v("02")]),n("div",{staticClass:"elem",attrs:{"data-number":"3"}},[e._v("03")]),n("div",{staticClass:"elem",attrs:{"data-number":"4"}},[e._v("04")]),n("div",{staticClass:"elem",attrs:{"data-number":"5"}},[e._v("05")]),n("div",{staticClass:"elem",attrs:{"data-number":"6"}},[e._v("06")]),n("div",{staticClass:"elem",attrs:{"data-number":"7"}},[e._v("07")]),n("div",{staticClass:"elem",attrs:{"data-number":"8"}},[e._v("08")]),n("div",{staticClass:"elem",attrs:{"data-number":"9"}},[e._v("09")]),n("div",{staticClass:"elem",attrs:{"data-number":"10"}},[e._v("10")]),n("div",{staticClass:"elem",attrs:{"data-number":"11"}},[e._v("11")]),n("div",{staticClass:"elem",attrs:{"data-number":"12"}},[e._v("12")])]),e._l(e.events,(function(t){return n("div",{staticClass:"row event"},[n("div",{staticClass:"elem name"},[e._v(e._s(t.name))]),e._l(t.months,(function(t){return n("div",{staticClass:"elem",attrs:{"data-number":t.num}},[1==t.active?n("div",{staticClass:"rotate"},[n("div",{staticClass:"element"}),n("div",{staticClass:"element"})]):e._e()])}))],2)}))],2)},Ot=[],zt={name:"OperatingTable",props:["title","events"],methods:{hovers:function(){for(var e=this.$el.querySelectorAll(".elem"),t=function(t){e[t].addEventListener("mouseenter",(function(){for(var n=0;n<e.length;n++)e[t].dataset.number==e[n].dataset.number&&e[n].classList.add("active")})),e[t].addEventListener("mouseleave",(function(){for(var n=0;n<e.length;n++)e[t].dataset.number==e[n].dataset.number&&e[n].classList.remove("active")}))},n=0;n<e.length;n++)t(n)}},mounted:function(){this.hovers()}},Rt=zt,kt=(n("d684"),Object(f["a"])(Rt,Mt,Ot,!1,null,"4fc17b9f",null)),Yt=kt.exports,Qt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Dt=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"btn_start"},[n("div",{staticClass:"link-preload circle__link",attrs:{id:"btn"}},[e._v("Press"),n("div",{staticClass:"outer"})])])}],Bt=n("5dc3");n("7f78"),n("5dc3");var Ht={name:"Canvas2",mounted:function(){Object(Bt["setupCanvas"])(),document.querySelector("canvas").style.position="fixed"}},Gt=Ht,qt=(n("cf88"),Object(f["a"])(Gt,Qt,Dt,!1,null,"4b419c13",null)),Wt=qt.exports;a["a"].use(Xt.a);var Vt,jt=function(e){return Math.round(100*e)/100},$t=function(e,t,n){return(1-n)*e+n*t},Zt={name:"Operating",data:function(){return{swiperOption:{direction:"horizontal",slidesPerView:1,spaceBetween:100,loop:!1,grabCursor:!0,navigation:{prevEl:".prev",nextEl:".next"},effect:"slide",coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!1},speed:1e3},scroll:0,translate:0,vs:null,operations:{operation1:{title:"Works for 2019",events:{event1:{name:"Устройство фундамента (роствертка)",months:[{active:!0,num:1},{active:!0,num:2},{active:!0,num:3},{active:!1,num:4},{active:!1,num:5},{active:!1,num:6},{active:!1,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!0,num:11},{active:!1,num:12}]},event2:{name:"Устройство конструкций цокольной части",months:[{active:!1,num:1},{active:!0,num:2},{active:!0,num:3},{active:!0,num:4},{active:!0,num:5},{active:!1,num:6},{active:!1,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event3:{name:"Монолит встроенных помещений",months:[{active:!1,num:1},{active:!1,num:2},{active:!0,num:3},{active:!0,num:4},{active:!0,num:5},{active:!1,num:6},{active:!0,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event4:{name:"Устройство фундамента (роствертка)",months:[{active:!0,num:1},{active:!1,num:2},{active:!1,num:3},{active:!0,num:4},{active:!0,num:5},{active:!1,num:6},{active:!0,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event5:{name:"Устройство конструкций цокольной части",months:[{active:!1,num:1},{active:!1,num:2},{active:!1,num:3},{active:!1,num:4},{active:!0,num:5},{active:!0,num:6},{active:!0,num:7},{active:!0,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event6:{name:"Монолит встроенных помещений",months:[{active:!1,num:1},{active:!1,num:2},{active:!1,num:3},{active:!1,num:4},{active:!1,num:5},{active:!0,num:6},{active:!0,num:7},{active:!0,num:8},{active:!0,num:9},{active:!0,num:10},{active:!0,num:11},{active:!0,num:12}]}}},operation2:{title:"Works for 2020",events:{event1:{name:"Устройство фундамента (роствертка)",months:[{active:!0,num:1},{active:!0,num:2},{active:!0,num:3},{active:!1,num:4},{active:!1,num:5},{active:!1,num:6},{active:!1,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!0,num:11},{active:!1,num:12}]},event2:{name:"Устройство конструкций цокольной части",months:[{active:!1,num:1},{active:!0,num:2},{active:!0,num:3},{active:!0,num:4},{active:!0,num:5},{active:!1,num:6},{active:!1,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event3:{name:"Монолит встроенных помещений",months:[{active:!1,num:1},{active:!1,num:2},{active:!0,num:3},{active:!0,num:4},{active:!0,num:5},{active:!1,num:6},{active:!0,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event4:{name:"Устройство фундамента (роствертка)",months:[{active:!0,num:1},{active:!1,num:2},{active:!1,num:3},{active:!0,num:4},{active:!0,num:5},{active:!1,num:6},{active:!0,num:7},{active:!1,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event5:{name:"Устройство конструкций цокольной части",months:[{active:!1,num:1},{active:!1,num:2},{active:!1,num:3},{active:!1,num:4},{active:!0,num:5},{active:!0,num:6},{active:!0,num:7},{active:!0,num:8},{active:!1,num:9},{active:!1,num:10},{active:!1,num:11},{active:!1,num:12}]},event6:{name:"Монолит встроенных помещений",months:[{active:!1,num:1},{active:!1,num:2},{active:!1,num:3},{active:!1,num:4},{active:!1,num:5},{active:!0,num:6},{active:!0,num:7},{active:!0,num:8},{active:!0,num:9},{active:!0,num:10},{active:!0,num:11},{active:!0,num:12}]}}}}}},methods:{showPage:function(){var e=this;this.$el.classList.add("active"),setTimeout((function(){e.$el.querySelector(".operating__inner").classList.add("clean")}),2e3)},clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()},onScroll:function(e){var t=this.scroll+-1*e.deltaY;this.scroll=Math.min(Math.max(t,0),this.$refs.container.scrollHeight-window.innerHeight)},setup:function(){G.start(),this.vs=new k.a({mouseMultiplier:.7,touchMultiplier:.7,passive:!0}),G.add(this.checkSmooth,"checkSmooth"),Q.a.enable(),this.vs.on(this.onScroll)},checkSmooth:function(){Math.round(this.scroll)!==Math.round(this.translate)&&(this.translate=jt($t(this.translate,this.scroll,.15)),this.scroll>100?this.$el.querySelector(".operating__head").classList.add("operating__head--hidden"):this.$el.querySelector(".operating__head").classList.remove("operating__head--hidden"),this.scroll>450?this.$el.querySelector(".arrows").classList.add("arrows--active"):this.$el.querySelector(".arrows").classList.remove("arrows--active"))}},mounted:function(){this.showPage(),this.setup(),this.scrollHeight=this.$refs.container.scrollHeight},beforeDestroy:function(){G.remove("checkSmooth"),this.vs.off(this.onScroll),G.stop(!0)},components:{Canvas2:Wt,OperatingTable:Yt}},Kt=Zt,Jt=(n("ffeb"),Object(f["a"])(Kt,It,Nt,!1,null,null,null)),en=Jt.exports,tn={name:"PageOperating",data:function(){var e;return e={scrollbar:!0,type:"full",theme:"light"},Object(Et["a"])(e,"scrollbar",!0),Object(Et["a"])(e,"appear","normal"),Object(Et["a"])(e,"animation","clear"),e},methods:{clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()}},beforeDestroy:function(){document.querySelector("canvas").remove(),this.clearCursor()},components:{HorizontalViewAW:be,CursorCustom:z,Operating:en}},nn=tn,an=Object(f["a"])(nn,Lt,Tt,!1,null,"7847d5e1",null),on=an.exports,sn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base"},[n("CursorCustom",{attrs:{theme:e.theme}}),n("HorizontalViewAW",{attrs:{theme:e.theme,appear:e.appear,scrollbar:e.scrollbar,orientation:e.orientation}},[n("PageDocuments")],1)],1)},rn=[],ln=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"documents"},[e._m(0),n("div",{ref:"container",staticClass:"documents__content",style:{transform:"translate3d(0, -"+e.translate+"px, 0) "}},[n("div",{staticClass:"inner"},[n("ul",{staticClass:"documents__list"},e._l(e.documents,(function(t){return n("li",[n("div",{staticClass:"count"},[e._v(e._s(t.count))]),n("div",{staticClass:"part"},[n("a",{attrs:{href:t.url,download:""}},[e._v(e._s(t.name))]),n("div",{staticClass:"desc"},[n("div",{staticClass:"version"},[e._v(e._s("Версия от: "+t.versionDate))]),n("div",{staticClass:"size"},[e._v(e._s("Размер: "+t.fileSize))])])])])})),0)])])])},cn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"documents__head"},[n("h1",{staticClass:"title title-4"},[n("span",[e._v("D")]),n("span",[e._v("o")]),n("span",[e._v("c")]),n("span",[e._v("u")]),n("span",[e._v("m")]),n("span",[e._v("e")]),n("span",[e._v("n")]),n("span",[e._v("t")]),n("span",[e._v("s")])])])}],un=function(e){return Math.round(100*e)/100},dn=function(e,t,n){return(1-n)*e+n*t},fn={name:"PageDocuments",data:function(){return{scroll:0,translate:0,vs:null,documents:[{name:"Annual balance sheet for 2019 (dynamics)",fileSize:"449.65 КБ",count:"01",url:"./src/documents/document.doc",versionDate:"8 октября 2018"},{name:"Report on financial results for 2017 (dynamics)",fileSize:"423.45 КБ",count:"02",url:"./documents/document.doc",versionDate:"7 октября 2018"},{name:" Institutsky 16 site lease agreement",fileSize:"2 МБ",count:"03",url:"./documents/document.doc",versionDate:"2 сентября 2018"},{name:" Building Permit Institutsky 16",fileSize:"123.45 КБ",count:"04",url:"./documents/document.doc",versionDate:"12 августа 2018"},{name:"Annual balance sheet for 2019 (dynamics)",fileSize:"449.65 КБ",count:"05",url:"./documents/document.doc",versionDate:"8 октября 2018"},{name:"Report on financial results for 2017 (dynamics)",fileSize:"423.45 КБ",count:"06",url:"./documents/document.doc",versionDate:"7 октября 2018"},{name:" Institutsky 16 site lease agreement",fileSize:"2 МБ",count:"07",url:"./documents/document.doc",versionDate:"2 сентября 2018"},{name:" Building Permit Institutsky 16",fileSize:"123.45 КБ",count:"08",url:"./documents/document.doc",versionDate:"12 августа 2018"},{name:"Annual balance sheet for 2019 (dynamics)",fileSize:"449.65 КБ",count:"09",url:"./documents/document.doc",versionDate:"8 октября 2018"},{name:"Report on financial results for 2017 (dynamics)",fileSize:"423.45 КБ",count:"10",url:"./documents/document.doc",versionDate:"7 октября 2018"},{name:" Institutsky 16 site lease agreement",fileSize:"2 МБ",count:"11",url:"./documents/document.doc",versionDate:"2 сентября 2018"},{name:" Building Permit Institutsky 16",fileSize:"123.45 КБ",count:"12",url:"./documents/document.doc",versionDate:"12 августа 2018"}]}},methods:{moveHead:function(){this.$el.querySelector(".documents__content").appendChild(this.$el.querySelector(".documents__head"))},showPage:function(){this.$el.classList.add("active")},clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()},onScroll:function(e){var t=this.scroll+-1*e.deltaY;this.scroll=Math.min(Math.max(t,0),this.$refs.container.scrollHeight-window.innerHeight)},setup:function(){G.start(),this.vs=new k.a({mouseMultiplier:.7,touchMultiplier:.7,passive:!0}),G.add(this.checkSmooth,"checkSmooth"),Q.a.enable(),this.vs.on(this.onScroll)},checkSmooth:function(){var e;e=window.innerWidth>900?.13:.7,Math.round(this.scroll)!==Math.round(this.translate)&&(this.translate=un(dn(this.translate,this.scroll,e)))}},mounted:function(){this.showPage(),this.setup(),window.innerWidth<=900&&this.moveHead(),this.scrollHeight=this.$refs.container.scrollHeight},beforeDestroy:function(){G.remove("checkSmooth"),this.vs.off(this.onScroll),G.stop(!0),this.clearCursor()}},mn=fn,pn=(n("2495"),Object(f["a"])(mn,ln,cn,!1,null,null,null)),vn=pn.exports,hn={name:"Documents",data:function(){return{type:"half",theme:"light",appear:"normal",orientation:"vertical",scrollbar:!0}},components:{HorizontalViewAW:be,CursorCustom:z,PageDocuments:vn}},_n=hn,xn=(n("a320"),Object(f["a"])(_n,sn,rn,!1,null,"4d6b2d6b",null)),gn=xn.exports,An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base"},[n("CursorCustom",{attrs:{theme:e.theme}}),n("HorizontalViewAW",{attrs:{theme:e.theme,appear:e.appear,scrollbar:e.scrollbar}},[n("div",{staticClass:"location"},[n("Slider"),n("div",{staticClass:"location__map"},[n("div",{staticClass:"map__overlay"}),n("MapBox")],1),n("div",{staticClass:"category__wrap"},[n("ul",{ref:"categoryList",staticClass:"category"},e._l(e.categoryList,(function(t){return n("li",{key:t.id,staticClass:"category__item circle__link",attrs:{id:t.id}},[n("p",[e._v(e._s(t.name)),n("span")]),n("div",{staticClass:"category__border"},[n("div",{staticClass:"line"}),n("div",{staticClass:"line"}),n("div",{staticClass:"line"}),n("div",{staticClass:"line"})])])})),0)])],1)])],1)},yn=[],Pn=function(e,t){Fn()},Fn=function(){var e=document.querySelector(".category__wrap"),t=document.querySelector(".category");new ie.a({viewport:e,content:t,mode:"x",onUpdate:function(e){t.style.transform="translateX(".concat(-e.position.x,"px)")}})},bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("MglMap",{key:e.componentKey,ref:"map",attrs:{accessToken:e.accessToken,mapStyle:e.mapStyle,zoom:15,bearing:18,pitch:10,antialias:!0,center:[30.3483,60.0027]},on:{load:e.onload}},[e._l(e.markers,(function(t){return n("MglMarker",{key:t.name,staticClass:"map__marker",attrs:{coordinates:t.coord}},[n("MglPopup",{staticClass:"map__popup",on:{added:e.popupAdded}},[n("div",{staticClass:"popup__inner"},[n("div",{staticClass:"popup__head"},[n("div",{staticClass:"build"},[e._v(e._s(t.type))]),n("div",{staticClass:"distance"},[e._v(e._s(t.distance)),n("span",[e._v("м.")])])]),n("div",{staticClass:"popup__name"},[e._v(e._s(t.name))]),n("div",{staticClass:"popup__get"},[n("div",{staticClass:"get__part"},[n("p",[e._v("на машине")]),n("span",[e._v(e._s(t.oncar)+" мин.")])]),n("div",{staticClass:"get__part"},[n("p",[e._v("пешком")]),n("span",[e._v(e._s(t.onfoot)+" мин.")])]),n("div",{staticClass:"get__part"},[n("p",[e._v("на общ. транспорте")]),n("span",[e._v(e._s(t.onbus)+" мин.")])])]),n("div",{staticClass:"popup__address"},[e._v(e._s(t.address))])])])],1)})),n("div",{staticClass:"refreshMap",on:{click:function(t){return e.forceRerender()}}})],2)},wn=[],Sn=n("3f3d"),Cn=n("bd2e"),Ln=n.n(Cn),Tn=(n("6bbf"),{name:"MapBox",components:{MglMap:Sn["a"],MglPopup:Sn["c"],MglMarker:Sn["b"]},data:function(){return{componentKey:0,modelDelay:1e3,markers2:[{coord:[30.346173,60.001777],distance:300,category:"schools",type:"Школа",name:"Школа-интернат 33",oncar:2,onfoot:14,onbus:8,address:"2-й Муринский пр., 24"},{coord:[30.339664854127136,59.99902242404189],distance:350,category:"schools",type:"Школа",name:"Школа 117",oncar:3,onfoot:16,onbus:4,address:"просп. Пархоменко, 17"},{coord:[30.348732213458316,59.999984424028746],distance:450,category:"health",type:"Поликлиника",name:"Поликлиника 14",oncar:4,onfoot:18,onbus:5,address:"2-й Муринский пр., 35"},{coord:[30.356636265854476,60.00123304116317],distance:550,category:"schools",type:"Детский сад",name:"Детский сад 5",oncar:6,onfoot:15,onbus:7,address:"2-й Муринский пр., 34, корп. 2"},{coord:[30.353976342293297,60.00319789596579],distance:500,category:"schools",type:"Школа",name:"Школа 76",oncar:23,onfoot:123,onbus:2,address:"Болотная ул., 18"},{coord:[30.34213064667961,60.00231873010185],distance:300,category:"health",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3488,60.00248],distance:300,category:"family",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3488,60.00158],distance:300,category:"family",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3468,60.00158],distance:300,category:"family",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3468,60.00178],distance:300,category:"transport",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3468,60.00208],distance:300,category:"purchases",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3468,60.00308],distance:300,category:"purchases",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3488,60.00208],distance:300,category:"restaurants",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3488,60.00368],distance:300,category:"restaurants",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3448,60.00368],distance:300,category:"restaurants",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.3448,60.00468],distance:300,category:"banks",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.348,60.00368],distance:300,category:"art",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"},{coord:[30.348,60.00468],distance:300,category:"art",type:"Стоматология",name:"Мой зубной",oncar:20,onfoot:12,onbus:15,address:"ул. Орбели, 17"}],markers:[],accessToken:"pk.eyJ1IjoiYXJ0ZW1hcnQiLCJhIjoiY2pzNjAzbWhzMGpkdzRhcGtldWppNm5ldyJ9.KFE8pu7gz29F6gEk4Bn84Q",mapStyle:"mapbox://styles/artemart/cjs60jew2208s1fs3rvjhcln9"}},methods:{popupAdded:function(e){e.popup.remove()},forceRerender:function(){var e=this;setTimeout((function(){e.map.flyTo({center:[30.3483,60.00247],zoom:16.5})}),500),this.modelDelay=200,this.componentKey+=1},inflow:function(){this.map.flyTo({zoom:18,pitch:40})},flow:function(){this.map.flyTo({zoom:16,pitch:10,center:[30.3483,60.0027]})},onload:function(e){var t=this,a=n("e192");this.map=e.map,this.map.resize(),this.map.addControl(new a.NavigationControl),setTimeout((function(){t.flow()}),50);var i=[30.3482,60.0025],o=0,s=[Math.PI/2,0,1],r=a.MercatorCoordinate.fromLngLat(i,o),l={translateX:r.x,translateY:r.y,translateZ:r.z,rotateX:s[0],rotateY:s[1],rotateZ:s[1],scale:4*r.meterInMercatorCoordinateUnits()},c={id:"3d-model",type:"custom",renderingMode:"3d",onAdd:function(e,t){this.camera=new $e["Camera"],this.scene=new $e["Scene"];var n=new $e["DirectionalLight"](16777215);n.position.set(-100,70,120).normalize(),this.scene.add(n);var a=new $e["DirectionalLight"](16777215);a.position.set(0,80,160).normalize(),this.scene.add(a);var i=new $e["AmbientLight"](16777215);this.scene.add(i);var o=new Ln.a;o.load("https://raw.githubusercontent.com/tomahawk96/tomahawk96.github.io/master/legenda-1.glb",function(e){this.scene.add(e.scene)}.bind(this)),this.map=e,this.renderer=new $e["WebGLRenderer"]({canvas:e.getCanvas(),context:t,antialias:!0}),this.renderer.autoClear=!1},render:function(e,t){var n=(new $e["Matrix4"]).makeRotationAxis(new $e["Vector3"](1,0,0),l.rotateX),a=(new $e["Matrix4"]).makeRotationAxis(new $e["Vector3"](0,1,0),l.rotateY),i=(new $e["Matrix4"]).makeRotationAxis(new $e["Vector3"](0,0,1),l.rotateZ),o=(new $e["Matrix4"]).fromArray(t),s=(new $e["Matrix4"]).makeTranslation(l.translateX,l.translateY,l.translateZ).scale(new $e["Vector3"](l.scale,-l.scale,l.scale)).multiply(n).multiply(a).multiply(i);this.camera.projectionMatrix=o.multiply(s),this.renderer.state.reset(),this.renderer.render(this.scene,this.camera),this.map.triggerRepaint()}},u=document.querySelectorAll(".category__item"),d=document.querySelectorAll(".category__item span");this.markers=this.markers2.filter((function(e){return e.category==Vt}));for(var f=function(e){var n=t.markers2.filter((function(t){return t.category==u[e].id}));d[e].innerHTML=n.length,u[e].addEventListener("click",(function(){document.querySelector(".location").classList.add("show"),Vt=u[e].id,document.querySelector(".map__overlay").classList.add("map__overlay--active"),setTimeout((function(){document.querySelector(".refreshMap").click()}),400),setTimeout((function(){document.querySelector(".map__overlay").classList.remove("map__overlay--active")}),1e3)}))},m=0;m<u.length;m++)f(m);setTimeout((function(){t.map.addLayer(c,"waterway-label")}),this.modelDelay)}},mounted:function(){var e=this;setTimeout((function(){e.inflow()}),1800)},beforeDestroy:function(){this.$el.remove()}}),En=Tn,In=(n("29a8"),Object(f["a"])(En,bn,wn,!1,null,"4433fecf",null)),Nn=In.exports,Un=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slider__wrap"},[n("div",{ref:"slider",staticClass:"slider"},[e._m(0),n("div",{staticClass:"slider__border"},[n("svg",[n("line",{staticClass:"stroke",attrs:{x1:"0",y1:"100%",x2:"0",y2:"0"}}),n("line",{staticClass:"stroke",attrs:{x1:"0",y1:"0",x2:"100%",y2:"0"}}),n("line",{staticClass:"stroke",attrs:{x1:"100%",y1:"0",x2:"100%",y2:"100%"}}),n("line",{staticClass:"stroke",attrs:{x1:"100%",y1:"100%",x2:"0",y2:"100%"}})])]),n("swiper",{staticClass:"slider__area",attrs:{options:e.swiperOption},on:{slideNextTransitionStart:e.slideNext,slidePrevTransitionStart:e.slidePrev}},e._l(e.slideItems,(function(t){return n("swiper-slide",{key:t.num,staticClass:"slide"},[n("div",{staticClass:"title"},[e._v(e._s(t.minutes))]),n("div",{staticClass:"t-article"},[n("div",{staticClass:"swiper-pagination",attrs:{slot:"pagination"},slot:"pagination"}),n("div",{staticClass:"way"},[e._v(e._s(t.way))]),n("p",[e._v(e._s(t.place))])])])})),1)],1)])},Xn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slider__arrows"},[n("div",{staticClass:"arrow arrow_right cursor__link"},[n("span")]),n("div",{staticClass:"arrow arrow_left cursor__link"},[n("span")])])}],Mn=function(){var e=document.querySelector(".slider__border");if(e){var t=e.querySelectorAll(".stroke"),n=2500,a=n/t.length,i=function(){for(var e=function(e){t[0].classList.add("stroke--active"),setTimeout((function(){e>0&&t[e-1].classList.contains("stroke--active")&&t[e].classList.add("stroke--active")}),a*e)},n=0;n<t.length;n++)e(n)};i()}},On=function(){for(var e=document.querySelectorAll(".stroke"),t=function(t){e[t].classList.remove("stroke--active"),e[t].style.display="none",setTimeout((function(){e[t].style.display="block"}),10)},n=0;n<e.length;n++)t(n)},zn=(n("a481"),function(){for(var e=document.querySelectorAll(".swiper-pagination-fraction"),t=0;t<e.length;t++)e[t].innerHTML=e[t].innerHTML.replace(" / ","")});n("13da"),a["a"].use(Xt.a);var Rn={name:"Slider",data:function(){return{swiperOption:{direction:"horizontal",slidesPerView:1,spaceBetween:0,loop:!0,navigation:{prevEl:".arrow_left",nextEl:".arrow_right"},effect:"fade",noSwiping:!0,noSwipingClass:"swiper-container",speed:2e3,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",type:"fraction"},breakpoints:{1600:{slidesPerView:1}}},slideItems:[{num:"1",minutes:"15",way:"минут пешком",place:"до м. Площадь Мужества"},{num:"2",minutes:"25",way:"минут пешком",place:"до Пятерочки"},{num:"3",minutes:"38",way:"минут на автобусе",place:"до м. Девяткино"},{num:"4",minutes:"57",way:"минут пешком",place:"до Школы интернат 33"}]}},methods:{slideNext:function(){On(),setTimeout((function(){Mn()}),1e3)},slidePrev:function(){On(),Mn()}},mounted:function(){Mn(),zn()}},kn=Rn,Yn=(n("8d87"),Object(f["a"])(kn,Un,Xn,!1,null,"1e7823b2",null)),Qn=Yn.exports,Dn={name:"Documents",data:function(){return{type:"half",theme:"dark",appear:"normal",scrollbar:!0,contactsKey:0,categoryList:[{id:"health",name:"Здоровье"},{id:"family",name:"Семейный отдых"},{id:"schools",name:"Школы/Детские сады"},{id:"transport",name:"Транспорт"},{id:"purchases",name:"Покупки"},{id:"restaurants",name:"Бары/рестораны"},{id:"banks",name:"Банки/банкоматы"},{id:"art",name:"Искусство"}]}},methods:{clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()},showPage:function(){this.$el.classList.add("active")}},mounted:function(){this.showPage(),Pn(this.categoryList)},beforeDestroy:function(){this.clearCursor()},components:{HorizontalViewAW:be,CursorCustom:z,MapBox:Nn,Slider:Qn}},Bn=Dn,Hn=(n("1c7c"),Object(f["a"])(Bn,An,yn,!1,null,"8e54bcc4",null)),Gn=Hn.exports,qn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"base light"},[n("CursorCustom",{attrs:{theme:e.theme}}),n("HorizontalViewAW",{attrs:{theme:e.theme,appear:e.appear,orientation:e.orientation}},[n("PageApartments")],1)],1)},Wn=[],Vn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"apartments"},[e._m(0),a("div",{staticClass:"apartments__content"},[e._m(1),a("swiper",{ref:"swiper",staticClass:"apartments__list",attrs:{options:e.swiperOption},on:{slideNextTransitionStart:e.slideNext,slidePrevTransitionStart:e.slidePrev}},e._l(e.apartments,(function(t,n){return a("swiper-slide",{staticClass:"item circle-cursor"},[a("div",{staticClass:"inner",attrs:{"data-slide":n+1},on:{click:e.open,mouseenter:e.checkRect,mouseleave:e.clearRect}},[a("img",{attrs:{src:t.preview,alt:t.type}}),a("div",{staticClass:"title"},[e._v(e._s("Type "+t.type))]),a("div",{staticClass:"area"},[e._v(e._s(t.totalArea+"м2"))])])])})),1),e._m(2)],1),a("div",{staticClass:"apartments__slider"},[a("div",{staticClass:"close mobile-close",on:{click:e.close}}),a("div",{staticClass:"fade"}),a("div",{staticClass:"slides"},e._l(e.apartments,(function(e,t){return a("div",{staticClass:"slide",attrs:{"data-slide":t+1}},[a("img",{attrs:{src:e.preview}})])})),0),a("div",{staticClass:"mobile-properties"},[a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.type))])]),e._m(3)]),a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.totalArea))])]),e._m(4)]),a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.floor))])]),e._m(5)]),a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.rooms))])]),e._m(6)])]),a("div",{staticClass:"mobile-choose select-button"},[e._v("Choose apartments")]),a("div",{staticClass:"optional"},[a("div",{staticClass:"properties"},[a("div",{staticClass:"close cursor__link",on:{click:e.close}}),a("div",{staticClass:"properties__content"},[a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.type))])]),e._m(7)]),a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.totalArea))])]),e._m(8)]),a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.floor))])]),e._m(9)]),a("div",{staticClass:"prop"},[a("div",{staticClass:"count"},[a("span",[e._v(e._s(e.sliderOption.rooms))])]),e._m(10)])]),a("div",{staticClass:"select-button circle__link"},[e._v("Choose apartment")])]),a("div",{staticClass:"controls"},[a("div",{staticClass:"next circle__link slider-arrow",on:{click:e.next}},[a("img",{attrs:{src:n("f01a")}})]),a("div",{staticClass:"counter"},[e._v(e._s(e.sliderOption.current+"/"+e.apartments.length))]),a("div",{staticClass:"prev circle__link slider-arrow",on:{click:e.prev}},[a("img",{attrs:{src:n("dbef")}})])]),a("div",{staticClass:"compas"},[a("img",{staticClass:"nord-arrow",style:"transform: rotate("+e.sliderOption.azimuth+"deg)",attrs:{src:n("49e7"),alt:"Nord"}})])])])])},jn=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"apartments__head"},[n("h1",{staticClass:"title title-4"},[n("span",[e._v("A")]),n("span",[e._v("p")]),n("span",[e._v("a")]),n("span",[e._v("r")]),n("span",[e._v("t")]),n("span",[e._v("m")]),n("span",[e._v("e")]),n("span",[e._v("n")]),n("span",[e._v("t")]),n("span",[e._v("s")])])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mobile__controls"},[a("div",{staticClass:"mobile__prev"},[a("img",{attrs:{src:n("dbef")}})]),a("div",{staticClass:"mobile__next"},[a("img",{attrs:{src:n("f01a")}})])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"intersect"},[n("div",{staticClass:"rect-tl"}),n("div",{staticClass:"rect-tr"}),n("div",{staticClass:"rect-bl"}),n("div",{staticClass:"rect-br"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Type")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Total area")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Floor")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Bedrooms")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Type")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Total area")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Floor")])])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"desc"},[n("span",[e._v("Bedrooms")])])}],$n=n("f022");n("fea0"),a["a"].use(Xt.a);var Zn={name:"PageApartments",data:function(){return{swiperCounter:1,swiperOption:{direction:"vertical",spaceBetween:0,slidesPerView:"auto",mousewheel:!0,slidesPerGroup:1,speed:1e3,navigation:{prevEl:".mobile__prev",nextEl:".mobile__next"},breakpoints:{1200:{slidesPerView:1,direction:"horizontal"}}},sliderOption:{azimuth:0,current:0,goSlider:!1,all:0,type:"0",totalArea:"0",floor:"0",rooms:"0"},apartments:[{type:"1-1",totalArea:64,floor:"3-7",azimuth:12,rooms:"2",preview:n("8078")},{type:"1-2",totalArea:78,floor:"7-12",azimuth:26,rooms:"3",preview:n("8078")},{type:"1-3",totalArea:28,floor:"12-15",azimuth:36,rooms:"1",preview:n("8078")},{type:"1-4",totalArea:99,floor:"15-19",azimuth:0,rooms:"4",preview:n("8078")},{type:"1-5",totalArea:64,floor:"3-7",rooms:"2",azimuth:69,preview:n("8078")},{type:"1-6",totalArea:78,floor:"7-12",azimuth:145,rooms:"3",preview:n("8078")},{type:"1-7",azimuth:220,totalArea:28,floor:"12-15",rooms:"1",preview:n("8078")},{type:"1-8",azimuth:200,totalArea:99,floor:"15-19",rooms:"4",preview:n("8078")},{type:"1-9",azimuth:120,totalArea:234,floor:"12-13",rooms:"6",preview:n("8078")},{type:"1-10",azimuth:340,totalArea:159,floor:"12-13",rooms:"7",preview:n("8078")}]}},methods:{showPage:function(){this.$el.classList.add("active")},slideNext:function(){window.innerWidth>1200&&(this.swiperCounter++,this.swiperCounter>this.apartments.length/2-2&&(this.$refs.swiper.swiper.allowSlideNext=!1))},slidePrev:function(){window.innerWidth>1200&&((this.$refs.swiper.swiper.allowSlidePrev=!0)&&this.swiperCounter--,this.$refs.swiper.swiper.allowSlideNext=!0)},mobile:function(){var e=this;setTimeout((function(){document.querySelector(".base").appendChild(e.$el.querySelector(".controls"))}),1e3)},getSliderHeight:function(){var e=Math.ceil(this.apartments.length/2),t=this.$el.querySelector(".apartments__list .item").getBoundingClientRect().height,n=e*t-t;console.log(n-2*t)},mobileControls:function(){document.querySelector(".controls").classList.toggle("controls--active")},checkRect:function(){var e=this.$el.querySelector(".rect-tl").getBoundingClientRect(),t=this.$el.querySelector(".rect-tr").getBoundingClientRect(),n=this.$el.querySelector(".rect-bl").getBoundingClientRect(),a=this.$el.querySelector(".rect-br").getBoundingClientRect(),i=event.target.getBoundingClientRect();$n(i,e)?event.target.classList.add("origin-tl"):$n(i,t)?event.target.classList.add("origin-tr"):$n(i,n)?event.target.classList.add("origin-bl"):$n(i,a)&&event.target.classList.add("origin-br")},clearRect:function(){event.target.classList.contains("active")||(event.target.classList.remove("origin-bl"),event.target.classList.remove("origin-br"),event.target.classList.remove("origin-lt"),event.target.classList.remove("origin-lr"))},open:function(e){var t=this.$el.querySelectorAll(".apartments__slider .slide");this.$el.classList.add("open"),e.target.classList.add("active"),setTimeout((function(){e.target.classList.add("active-second")}),500),this.sliderOption.current=e.target.dataset.slide,this.getActive();for(var n=0;n<t.length;n++)t[n].classList.remove("active");this.mobileControls()},close:function(){var e=this,t=this.$el.querySelectorAll(".apartments__list .inner"),n=this.$el.querySelectorAll(".apartments__slider .slide");this.$el.querySelector(".fade").classList.add("fade--active"),this.mobileControls(),setTimeout((function(){for(var a=0;a<t.length;a++)t[a].classList.remove("active"),n[a].classList.remove("active"),t[a].classList.remove("active-second"),t[a].classList.remove("fadeout"),e.$el.classList.remove("open"),e.$el.querySelector(".fade").classList.remove("fade--active")}),500)},getActive:function(){var e=this.apartments[this.sliderOption.current-1],t=this.$el.querySelectorAll(".apartments__slider .slide");this.sliderOption.azimuth=e.azimuth,this.sliderOption.type=e.type,this.sliderOption.totalArea=e.totalArea,this.sliderOption.floor=e.floor,this.sliderOption.rooms=e.rooms;for(var n=0;n<t.length;n++)t[n].classList.remove("active");1==this.sliderOption.goSlider&&t[this.sliderOption.current-1].classList.add("active")},fadeInner:function(){var e=this.$el.querySelectorAll(".apartments__list .inner");this.sliderOption.goSlider=!0;for(var t=function(t){e[t].classList.contains("active")&&(e[t].classList.add("fadeout"),setTimeout((function(){e[t].classList.remove("active"),e[t].classList.remove("active-second")}),700))},n=0;n<e.length;n++)t(n)},next:function(){this.sliderOption.current<this.apartments.length&&(this.sliderOption.current++,this.fadeInner(),this.getActive())},prev:function(){this.sliderOption.current>1&&(this.sliderOption.current--,this.sliderOption.showFirst=!0,this.fadeInner(),this.getActive())},clearCursor:function(){document.querySelector(".circle-cursor--outer").remove(),document.querySelector(".circle-cursor--inner").remove()}},mounted:function(){window.innerWidth<=900&&this.mobile(),this.showPage(),this.getSliderHeight()},beforeDestroy:function(){this.clearCursor()}},Kn=Zn,Jn=(n("f5ba"),Object(f["a"])(Kn,Vn,jn,!1,null,null,null)),ea=Jn.exports,ta={name:"Apartments",data:function(){return{type:"half",theme:"light",appear:"normal",orientation:"vertical"}},components:{HorizontalViewAW:be,CursorCustom:z,PageApartments:ea}},na=ta,aa=(n("e01e"),Object(f["a"])(na,qn,Wn,!1,null,"0e9cdd96",null)),ia=aa.exports,oa=n("8c4f");a["a"].use(oa["a"]);var sa=new oa["a"]({mode:"history",routes:[{path:"/operating_shedule",name:"operating_shedule",component:on},{path:"/",name:"MainAW",component:Oe},{path:"/progress",name:"Progress",component:lt},{path:"/gallery",name:"Gallery",component:Ct},{path:"/documents",name:"Documents",component:gn},{path:"/location",name:"Location",component:Gn},{path:"/apartments",name:"Apartments",component:ia}]});a["a"].config.productionTip=!1,new a["a"]({el:"#app",router:sa,render:function(e){return e(P)}})},"5c7d":function(e,t,n){e.exports=n.p+"img/next.2a858bd1.svg"},"5dc3":function(e,t,n){"use strict";n.r(t),function(e,a){n.d(t,"setupCanvas",(function(){return s}));n("ac6a"),n("673e"),n("7f7f"),n("4917"),n("a481");var i=n("5a89"),o=void 0,s=function(){var t={isWebGLAvailable:function(){try{var e=document.createElement("canvas");return!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(t){return!1}},isWebGL2Available:function(){try{var e=document.createElement("canvas");return!(!window.WebGL2RenderingContext||!e.getContext("webgl2"))}catch(t){return!1}},getWebGLErrorMessage:function(){return this.getErrorMessage(1)},getWebGL2ErrorMessage:function(){return this.getErrorMessage(2)},getErrorMessage:function(e){var t={1:"WebGL",2:"WebGL 2"},n={1:window.WebGLRenderingContext,2:window.WebGL2RenderingContext},a='Your $0 does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" style="color:#000">$1</a>',i=document.createElement("div");return i.id="webglmessage",i.style.fontFamily="monospace",i.style.fontSize="13px",i.style.fontWeight="normal",i.style.textAlign="center",i.style.background="#fff",i.style.color="#000",i.style.padding="1.5em",i.style.width="400px",i.style.margin="5em auto 0",a=n[e]?a.replace("$0","graphics card"):a.replace("$0","browser"),a=a.replace("$1",t[e]),i.innerHTML=a,i}};i["CopyShader"]={uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["uniform float opacity;","uniform sampler2D tDiffuse;","varying vec2 vUv;","void main() {","vec4 texel = texture2D( tDiffuse, vUv );","gl_FragColor = opacity * texel;","}"].join("\n")};
/*!
   * VERSION: 0.2.2
   * DATE: 2018-02-15
   * UPDATES AND DOCS AT: http://greensock.com
   *
   * @license Copyright (c) 2008-2018, GreenSock. All rights reserved.
   * This work is subject to the terms at http://greensock.com/standard-license or for
   * Club GreenSock members, the software agreement that was issued with your membership.
   *
   * @author: Jack Doyle, jack@greensock.com
   **/
var s,r,l,c,u,d,f,m,p,v,h,_,x,g,A,y,P,F,b,w,S,C,L,T,E,I,N,U,X,M,O=e.exports&&"undefined"!==typeof a?a:o||window;(O._gsQueue||(O._gsQueue=[])).push((function(){O._gsDefine("easing.CustomEase",["easing.Ease"],(function(e){var t=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,n=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,a=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/gi,i=/[cLlsS]/g,o="CustomEase only accepts Cubic Bezier data.",s=function e(t,n,a,i,o,s,r,l,c,u,d){var f,m=(t+a)/2,p=(n+i)/2,v=(a+o)/2,h=(i+s)/2,_=(o+r)/2,x=(s+l)/2,g=(m+v)/2,A=(p+h)/2,y=(v+_)/2,P=(h+x)/2,F=(g+y)/2,b=(A+P)/2,w=r-t,S=l-n,C=Math.abs((a-r)*S-(i-l)*w),L=Math.abs((o-r)*S-(s-l)*w);return u||(u=[{x:t,y:n},{x:r,y:l}],d=1),u.splice(d||u.length-1,0,{x:F,y:b}),(C+L)*(C+L)>c*(w*w+S*S)&&(f=u.length,e(t,n,m,p,g,A,F,b,c,u,d),e(F,b,y,P,_,x,r,l,c,u,d+1+(u.length-f))),u},r=function(e){var t,i,s,r,l,c,u,d,f,m,p,v=(e+"").replace(a,(function(e){var t=+e;return t<1e-4&&t>-1e-4?0:t})).match(n)||[],h=[],_=0,x=0,g=v.length,A=2;for(t=0;t<g;t++)if(f=r,isNaN(v[t])?(r=v[t].toUpperCase(),l=r!==v[t]):t--,i=+v[t+1],s=+v[t+2],l&&(i+=_,s+=x),t||(u=i,d=s),"M"===r)c&&c.length<8&&(h.length-=1,A=0),_=u=i,x=d=s,c=[i,s],A=2,h.push(c),t+=2,r="L";else if("C"===r)c||(c=[0,0]),c[A++]=i,c[A++]=s,l||(_=x=0),c[A++]=_+1*v[t+3],c[A++]=x+1*v[t+4],c[A++]=_+=1*v[t+5],c[A++]=x+=1*v[t+6],t+=6;else if("S"===r)"C"===f||"S"===f?(m=_-c[A-4],p=x-c[A-3],c[A++]=_+m,c[A++]=x+p):(c[A++]=_,c[A++]=x),c[A++]=i,c[A++]=s,l||(_=x=0),c[A++]=_+=1*v[t+3],c[A++]=x+=1*v[t+4],t+=4;else{if("L"!==r&&"Z"!==r)throw o;"Z"===r&&(i=u,s=d,c.closed=!0),("L"===r||Math.abs(_-i)>.5||Math.abs(x-s)>.5)&&(c[A++]=_+(i-_)/3,c[A++]=x+(s-x)/3,c[A++]=_+2*(i-_)/3,c[A++]=x+2*(s-x)/3,c[A++]=i,c[A++]=s,"L"===r&&(t+=2)),_=i,x=s}return h[0]},l=function(e){var t,n=e.length,a=999999999999;for(t=1;t<n;t+=6)+e[t]<a&&(a=+e[t]);return a},c=function(e,t,n){n||0===n||(n=Math.max(+e[e.length-1],+e[1]));var a,i=-1*+e[0],o=-n,s=e.length,r=1/(+e[s-2]+i),c=-t||(Math.abs(+e[s-1]-+e[1])<.01*(+e[s-2]-+e[0])?l(e)+o:+e[s-1]+o);for(c=c?1/c:-r,a=0;a<s;a+=2)e[a]=(+e[a]+i)*r,e[a+1]=(+e[a+1]+o)*c},u=function(e){var t=this.lookup[e*this.l|0]||this.lookup[this.l-1];return t.nx<e&&(t=t.n),t.y+(e-t.x)/t.cx*t.cy},d=function(t,n,a){this._calcEnd=!0,this.id=t,t&&(e.map[t]=this),this.getRatio=u,this.setData(n,a)},f=d.prototype=new e;return f.constructor=d,f.setData=function(e,n){e=e||"0,0,1,1";var a,l,u,d,f,m,p,v,h,_,x=e.match(t),g=1,A=[];if(n=n||{},_=n.precision||1,this.data=e,this.lookup=[],this.points=A,this.fast=_<=1,(i.test(e)||-1!==e.indexOf("M")&&-1===e.indexOf("C"))&&(x=r(e)),a=x.length,4===a)x.unshift(0,0),x.push(1,1),a=8;else if((a-2)%6)throw o;for(0===+x[0]&&1===+x[a-2]||c(x,n.height,n.originY),this.rawBezier=x,d=2;d<a;d+=6)l={x:+x[d-2],y:+x[d-1]},u={x:+x[d+4],y:+x[d+5]},A.push(l,u),s(l.x,l.y,+x[d],+x[d+1],+x[d+2],+x[d+3],u.x,u.y,1/(2e5*_),A,A.length-1);for(a=A.length,d=0;d<a;d++)p=A[d],v=A[d-1]||p,p.x>v.x||v.y!==p.y&&v.x===p.x||p===v?(v.cx=p.x-v.x,v.cy=p.y-v.y,v.n=p,v.nx=p.x,this.fast&&d>1&&Math.abs(v.cy/v.cx-A[d-2].cy/A[d-2].cx)>2&&(this.fast=!1),v.cx<g&&(v.cx?g=v.cx:(v.cx=.001,d===a-1&&(v.x-=.001,g=Math.min(g,.001),this.fast=!1)))):(A.splice(d--,1),a--);if(a=1/g+1|0,this.l=a,f=1/a,m=0,p=A[0],this.fast){for(d=0;d<a;d++)h=d*f,p.nx<h&&(p=A[++m]),l=p.y+(h-p.x)/p.cx*p.cy,this.lookup[d]={x:h,cx:f,y:l,cy:0,nx:9},d&&(this.lookup[d-1].cy=l-this.lookup[d-1].y);this.lookup[a-1].cy=A[A.length-1].y-l}else{for(d=0;d<a;d++)p.nx<d*f&&(p=A[++m]),this.lookup[d]=p;m<A.length-1&&(this.lookup[d-1]=A[A.length-2])}return this._calcEnd=1!==A[A.length-1].y||0!==A[0].y,this},f.getRatio=u,f.getSVGData=function(e){return d.getSVGData(this,e)},d.create=function(e,t,n){return new d(e,t,n)},d.version="0.2.2",d.bezierToPoints=s,d.get=function(t){return e.map[t]},d.getSVGData=function(t,n){n=n||{};var a,i,o,s,r,l,c,u,d,f,m=1e3,p=n.width||100,v=n.height||100,h=n.x||0,_=(n.y||0)+v,x=n.path;if(n.invert&&(v=-v,_=0),t=t.getRatio?t:e.map[t]||console.log("No ease found: ",t),t.rawBezier){for(a=[],c=t.rawBezier.length,o=0;o<c;o+=2)a.push(((h+t.rawBezier[o]*p)*m|0)/m+","+((_+t.rawBezier[o+1]*-v)*m|0)/m);a[0]="M"+a[0],a[1]="C"+a[1]}else for(a=["M"+h+","+_],c=Math.max(5,200*(n.precision||1)),s=1/c,c+=2,u=5/c,d=((h+s*p)*m|0)/m,f=((_+t.getRatio(s)*-v)*m|0)/m,i=(f-_)/(d-h),o=2;o<c;o++)r=((h+o*s*p)*m|0)/m,l=((_+t.getRatio(o*s)*-v)*m|0)/m,(Math.abs((l-f)/(r-d)-i)>u||o===c-1)&&(a.push(d+","+f),i=(l-f)/(r-d)),d=r,f=l;return x&&("string"===typeof x?document.querySelector(x):x).setAttribute("d",a.join(" ")),a.join(" ")},d}),!0)})),O._gsDefine&&O._gsQueue.pop()(),function(t){var a=function(){return(O.GreenSockGlobals||O)[t]};e.exports?(n("d860"),e.exports=a()):"function"===typeof define&&n("3c35")&&define(["gsap/umd/TweenLite"],a)}("CustomEase"),i["EffectComposer"]=function(e,t){if(this.renderer=e,void 0===t){var n={minFilter:i["LinearFilter"],magFilter:i["LinearFilter"],format:i["RGBAFormat"],stencilBuffer:!1},a=e.getDrawingBufferSize();t=new i["WebGLRenderTarget"](a.width,a.height,n),t.texture.name="EffectComposer.rt1"}this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.passes=[],void 0===i["CopyShader"]&&console.error("THREE.EffectComposer relies on THREE.CopyShader"),void 0===i["ShaderPass"]&&console.error("THREE.EffectComposer relies on THREE.ShaderPass"),this.copyPass=new i["ShaderPass"](i["CopyShader"])},Object.assign(i["EffectComposer"].prototype,{swapBuffers:function(){var e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e},addPass:function(e){this.passes.push(e);var t=this.renderer.getDrawingBufferSize();e.setSize(t.width,t.height)},insertPass:function(e,t){this.passes.splice(t,0,e)},render:function(e){var t,n,a=!1,o=this.passes.length;for(n=0;n<o;n++)if(t=this.passes[n],!1!==t.enabled){if(t.render(this.renderer,this.writeBuffer,this.readBuffer,e,a),t.needsSwap){if(a){var s=this.renderer.context;s.stencilFunc(s.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),s.stencilFunc(s.EQUAL,1,4294967295)}this.swapBuffers()}void 0!==i["MaskPass"]&&(t instanceof i["MaskPass"]?a=!0:t instanceof i["ClearMaskPass"]&&(a=!1))}},reset:function(e){if(void 0===e){var t=this.renderer.getDrawingBufferSize();e=this.renderTarget1.clone(),e.setSize(t.width,t.height)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2},setSize:function(e,t){this.renderTarget1.setSize(e,t),this.renderTarget2.setSize(e,t);for(var n=0;n<this.passes.length;n++)this.passes[n].setSize(e,t)}}),i["Pass"]=function(){this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1},Object.assign(i["Pass"].prototype,{setSize:function(e,t){},render:function(e,t,n,a,i){console.error("THREE.Pass: .render() must be implemented in derived pass.")}}),i["FXAAShader"]={uniforms:{tDiffuse:{value:null},resolution:{value:new i["Vector2"](1/1024,1/512)}},vertexShader:["varying vec2 vUv;","void main() {","vUv = uv;","gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["precision highp float;","","uniform sampler2D tDiffuse;","","uniform vec2 resolution;","","varying vec2 vUv;","","// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)","","//----------------------------------------------------------------------------------","// File:        es3-keplerFXAAassetsshaders/FXAA_DefaultES.frag","// SDK Version: v3.00","// Email:       gameworks@nvidia.com","// Site:        http://developer.nvidia.com/","//","// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.","//","// Redistribution and use in source and binary forms, with or without","// modification, are permitted provided that the following conditions","// are met:","//  * Redistributions of source code must retain the above copyright","//    notice, this list of conditions and the following disclaimer.","//  * Redistributions in binary form must reproduce the above copyright","//    notice, this list of conditions and the following disclaimer in the","//    documentation and/or other materials provided with the distribution.","//  * Neither the name of NVIDIA CORPORATION nor the names of its","//    contributors may be used to endorse or promote products derived","//    from this software without specific prior written permission.","//","// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY","// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE","// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR","// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR","// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,","// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,","// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR","// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY","// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT","// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE","// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.","//","//----------------------------------------------------------------------------------","","#define FXAA_PC 1","#define FXAA_GLSL_100 1","#define FXAA_QUALITY_PRESET 12","","#define FXAA_GREEN_AS_LUMA 1","","/*--------------------------------------------------------------------------*/","#ifndef FXAA_PC_CONSOLE","    //","    // The console algorithm for PC is included","    // for developers targeting really low spec machines.","    // Likely better to just run FXAA_PC, and use a really low preset.","    //","    #define FXAA_PC_CONSOLE 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_120","    #define FXAA_GLSL_120 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GLSL_130","    #define FXAA_GLSL_130 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_3","    #define FXAA_HLSL_3 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_4","    #define FXAA_HLSL_4 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_HLSL_5","    #define FXAA_HLSL_5 0","#endif","/*==========================================================================*/","#ifndef FXAA_GREEN_AS_LUMA","    //","    // For those using non-linear color,","    // and either not able to get luma in alpha, or not wanting to,","    // this enables FXAA to run using green as a proxy for luma.","    // So with this enabled, no need to pack luma in alpha.","    //","    // This will turn off AA on anything which lacks some amount of green.","    // Pure red and blue or combination of only R and B, will get no AA.","    //","    // Might want to lower the settings for both,","    //    fxaaConsoleEdgeThresholdMin","    //    fxaaQualityEdgeThresholdMin","    // In order to insure AA does not get turned off on colors","    // which contain a minor amount of green.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_GREEN_AS_LUMA 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_EARLY_EXIT","    //","    // Controls algorithm's early exit path.","    // On PS3 turning this ON adds 2 cycles to the shader.","    // On 360 turning this OFF adds 10ths of a millisecond to the shader.","    // Turning this off on console will result in a more blurry image.","    // So this defaults to on.","    //","    // 1 = On.","    // 0 = Off.","    //","    #define FXAA_EARLY_EXIT 1","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_DISCARD","    //","    // Only valid for PC OpenGL currently.","    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.","    //","    // 1 = Use discard on pixels which don't need AA.","    //     For APIs which enable concurrent TEX+ROP from same surface.","    // 0 = Return unchanged color on pixels which don't need AA.","    //","    #define FXAA_DISCARD 0","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_FAST_PIXEL_OFFSET","    //","    // Used for GLSL 120 only.","    //","    // 1 = GL API supports fast pixel offsets","    // 0 = do not use fast pixel offsets","    //","    #ifdef GL_EXT_gpu_shader4","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_FAST_PIXEL_OFFSET 1","    #endif","    #ifndef FXAA_FAST_PIXEL_OFFSET","        #define FXAA_FAST_PIXEL_OFFSET 0","    #endif","#endif","/*--------------------------------------------------------------------------*/","#ifndef FXAA_GATHER4_ALPHA","    //","    // 1 = API supports gather4 on alpha channel.","    // 0 = API does not support gather4 on alpha channel.","    //","    #if (FXAA_HLSL_5 == 1)","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_ARB_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifdef GL_NV_gpu_shader5","        #define FXAA_GATHER4_ALPHA 1","    #endif","    #ifndef FXAA_GATHER4_ALPHA","        #define FXAA_GATHER4_ALPHA 0","    #endif","#endif","","","/*============================================================================","                        FXAA QUALITY - TUNING KNOBS","------------------------------------------------------------------------------","NOTE the other tuning knobs are now in the shader function inputs!","============================================================================*/","#ifndef FXAA_QUALITY_PRESET","    //","    // Choose the quality preset.","    // This needs to be compiled into the shader as it effects code.","    // Best option to include multiple presets is to","    // in each shader define the preset, then include this file.","    //","    // OPTIONS","    // -----------------------------------------------------------------------","    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)","    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)","    // 39       - no dither, very expensive","    //","    // NOTES","    // -----------------------------------------------------------------------","    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)","    // 13 = about same speed as FXAA 3.9 and better than 12","    // 23 = closest to FXAA 3.9 visually and performance wise","    //  _ = the lowest digit is directly related to performance","    // _  = the highest digit is directly related to style","    //","    #define FXAA_QUALITY_PRESET 12","#endif","","","/*============================================================================","","                           FXAA QUALITY - PRESETS","","============================================================================*/","","/*============================================================================","                     FXAA QUALITY - MEDIUM DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 10)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 3.0","    #define FXAA_QUALITY_P2 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 11)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 3.0","    #define FXAA_QUALITY_P3 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 12)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 4.0","    #define FXAA_QUALITY_P4 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 13)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 4.0","    #define FXAA_QUALITY_P5 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 14)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 4.0","    #define FXAA_QUALITY_P6 12.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 15)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 12.0","#endif","","/*============================================================================","                     FXAA QUALITY - LOW DITHER PRESETS","============================================================================*/","#if (FXAA_QUALITY_PRESET == 20)","    #define FXAA_QUALITY_PS 3","    #define FXAA_QUALITY_P0 1.5","    #define FXAA_QUALITY_P1 2.0","    #define FXAA_QUALITY_P2 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 21)","    #define FXAA_QUALITY_PS 4","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 22)","    #define FXAA_QUALITY_PS 5","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 23)","    #define FXAA_QUALITY_PS 6","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 24)","    #define FXAA_QUALITY_PS 7","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 3.0","    #define FXAA_QUALITY_P6 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 25)","    #define FXAA_QUALITY_PS 8","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 4.0","    #define FXAA_QUALITY_P7 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 26)","    #define FXAA_QUALITY_PS 9","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 4.0","    #define FXAA_QUALITY_P8 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 27)","    #define FXAA_QUALITY_PS 10","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 4.0","    #define FXAA_QUALITY_P9 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 28)","    #define FXAA_QUALITY_PS 11","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 4.0","    #define FXAA_QUALITY_P10 8.0","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_QUALITY_PRESET == 29)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.5","    #define FXAA_QUALITY_P2 2.0","    #define FXAA_QUALITY_P3 2.0","    #define FXAA_QUALITY_P4 2.0","    #define FXAA_QUALITY_P5 2.0","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","/*============================================================================","                     FXAA QUALITY - EXTREME QUALITY","============================================================================*/","#if (FXAA_QUALITY_PRESET == 39)","    #define FXAA_QUALITY_PS 12","    #define FXAA_QUALITY_P0 1.0","    #define FXAA_QUALITY_P1 1.0","    #define FXAA_QUALITY_P2 1.0","    #define FXAA_QUALITY_P3 1.0","    #define FXAA_QUALITY_P4 1.0","    #define FXAA_QUALITY_P5 1.5","    #define FXAA_QUALITY_P6 2.0","    #define FXAA_QUALITY_P7 2.0","    #define FXAA_QUALITY_P8 2.0","    #define FXAA_QUALITY_P9 2.0","    #define FXAA_QUALITY_P10 4.0","    #define FXAA_QUALITY_P11 8.0","#endif","","","","/*============================================================================","","                                API PORTING","","============================================================================*/","#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)","    #define FxaaBool bool","    #define FxaaDiscard discard","    #define FxaaFloat float","    #define FxaaFloat2 vec2","    #define FxaaFloat3 vec3","    #define FxaaFloat4 vec4","    #define FxaaHalf float","    #define FxaaHalf2 vec2","    #define FxaaHalf3 vec3","    #define FxaaHalf4 vec4","    #define FxaaInt2 ivec2","    #define FxaaSat(x) clamp(x, 0.0, 1.0)","    #define FxaaTex sampler2D","#else","    #define FxaaBool bool","    #define FxaaDiscard clip(-1)","    #define FxaaFloat float","    #define FxaaFloat2 float2","    #define FxaaFloat3 float3","    #define FxaaFloat4 float4","    #define FxaaHalf half","    #define FxaaHalf2 half2","    #define FxaaHalf3 half3","    #define FxaaHalf4 half4","    #define FxaaSat(x) saturate(x)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_100 == 1)","  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)","  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_120 == 1)","    // Requires,","    //  #version 120","    // And at least,","    //  #extension GL_EXT_gpu_shader4 : enable","    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)","    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)","    #if (FXAA_FAST_PIXEL_OFFSET == 1)","        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)","    #else","        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)","    #endif","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_GLSL_130 == 1)",'    // Requires "#version 130" or better',"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)","    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)","    #if (FXAA_GATHER4_ALPHA == 1)","        // use #extension GL_ARB_gpu_shader5 : enable","        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)","        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)","        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)","        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)","    #endif","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_3 == 1)","    #define FxaaInt2 float2","    #define FxaaTex sampler2D","    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))","    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_4 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","#endif","/*--------------------------------------------------------------------------*/","#if (FXAA_HLSL_5 == 1)","    #define FxaaInt2 int2","    struct FxaaTex { SamplerState smpl; Texture2D tex; };","    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)","    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)","    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)","    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)","    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)","    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)","#endif","","","/*============================================================================","                   GREEN AS LUMA OPTION SUPPORT FUNCTION","============================================================================*/","#if (FXAA_GREEN_AS_LUMA == 0)","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }","#else","    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }","#endif","","","","","/*============================================================================","","                             FXAA3 QUALITY - PC","","============================================================================*/","#if (FXAA_PC == 1)","/*--------------------------------------------------------------------------*/","FxaaFloat4 FxaaPixelShader(","    //","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy} = center of pixel","    FxaaFloat2 pos,","    //","    // Used only for FXAA Console, and not used on the 360 version.","    // Use noperspective interpolation here (turn off perspective interpolation).","    // {xy_} = upper left of pixel","    // {_zw} = lower right of pixel","    FxaaFloat4 fxaaConsolePosPos,","    //","    // Input color texture.","    // {rgb_} = color in linear or perceptual color space","    // if (FXAA_GREEN_AS_LUMA == 0)","    //     {__a} = luma in perceptual color space (not linear)","    FxaaTex tex,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 2nd sampler.","    // This sampler needs to have an exponent bias of -1.","    FxaaTex fxaaConsole360TexExpBiasNegOne,","    //","    // Only used on the optimized 360 version of FXAA Console.",'    // For everything but 360, just use the same input here as for "tex".',"    // For 360, same texture, just alias with a 3nd sampler.","    // This sampler needs to have an exponent bias of -2.","    FxaaTex fxaaConsole360TexExpBiasNegTwo,","    //","    // Only used on FXAA Quality.","    // This must be from a constant/uniform.","    // {x_} = 1.0/screenWidthInPixels","    // {_y} = 1.0/screenHeightInPixels","    FxaaFloat2 fxaaQualityRcpFrame,","    //","    // Only used on FXAA Console.","    // This must be from a constant/uniform.","    // This effects sub-pixel AA quality and inversely sharpness.","    //   Where N ranges between,","    //     N = 0.50 (default)","    //     N = 0.33 (sharper)","    // {x__} = -N/screenWidthInPixels","    // {_y_} = -N/screenHeightInPixels","    // {_z_} =  N/screenWidthInPixels","    // {__w} =  N/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt,","    //","    // Only used on FXAA Console.","    // Not used on 360, but used on PS3 and PC.","    // This must be from a constant/uniform.","    // {x__} = -2.0/screenWidthInPixels","    // {_y_} = -2.0/screenHeightInPixels","    // {_z_} =  2.0/screenWidthInPixels","    // {__w} =  2.0/screenHeightInPixels","    FxaaFloat4 fxaaConsoleRcpFrameOpt2,","    //","    // Only used on FXAA Console.","    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.","    // This must be from a constant/uniform.","    // {x__} =  8.0/screenWidthInPixels","    // {_y_} =  8.0/screenHeightInPixels","    // {_z_} = -4.0/screenWidthInPixels","    // {__w} = -4.0/screenHeightInPixels","    FxaaFloat4 fxaaConsole360RcpFrameOpt2,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_SUBPIX define.","    // It is here now to allow easier tuning.","    // Choose the amount of sub-pixel aliasing removal.","    // This can effect sharpness.","    //   1.00 - upper limit (softer)","    //   0.75 - default amount of filtering","    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)","    //   0.25 - almost off","    //   0.00 - completely off","    FxaaFloat fxaaQualitySubpix,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // The minimum amount of local contrast required to apply algorithm.","    //   0.333 - too little (faster)","    //   0.250 - low quality","    //   0.166 - default","    //   0.125 - high quality","    //   0.063 - overkill (slower)","    FxaaFloat fxaaQualityEdgeThreshold,","    //","    // Only used on FXAA Quality.","    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    //   0.0833 - upper limit (default, the start of visible unfiltered edges)","    //   0.0625 - high quality (faster)","    //   0.0312 - visible limit (slower)","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaQualityEdgeThresholdMin,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only three safe values here: 2 and 4 and 8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // For all other platforms can be a non-power of two.","    //   8.0 is sharper (default!!!)","    //   4.0 is softer","    //   2.0 is really soft (good only for vector graphics inputs)","    FxaaFloat fxaaConsoleEdgeSharpness,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.","    // It is here now to allow easier tuning.","    // This does not effect PS3, as this needs to be compiled in.","    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.","    //   Due to the PS3 being ALU bound,","    //   there are only two safe values here: 1/4 and 1/8.","    //   These options use the shaders ability to a free *|/ by 2|4|8.","    // The console setting has a different mapping than the quality setting.","    // Other platforms can use other values.","    //   0.125 leaves less aliasing, but is softer (default!!!)","    //   0.25 leaves more aliasing, and is sharper","    FxaaFloat fxaaConsoleEdgeThreshold,","    //","    // Only used on FXAA Console.","    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.","    // It is here now to allow easier tuning.","    // Trims the algorithm from processing darks.","    // The console setting has a different mapping than the quality setting.","    // This only applies when FXAA_EARLY_EXIT is 1.","    // This does not apply to PS3,","    // PS3 was simplified to avoid more shader instructions.","    //   0.06 - faster but more aliasing in darks","    //   0.05 - default","    //   0.04 - slower and less aliasing in darks","    // Special notes when using FXAA_GREEN_AS_LUMA,","    //   Likely want to set this to zero.","    //   As colors that are mostly not-green","    //   will appear very dark in the green channel!","    //   Tune by looking at mostly non-green content,","    //   then start at zero and increase until aliasing is a problem.","    FxaaFloat fxaaConsoleEdgeThresholdMin,","    //","    // Extra constants for 360 FXAA Console only.","    // Use zeros or anything else for other platforms.","    // These must be in physical constant registers and NOT immediates.","    // Immediates will result in compiler un-optimizing.","    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)","    FxaaFloat4 fxaaConsole360ConstDir",") {","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posM;","    posM.x = pos.x;","    posM.y = pos.y;","    #if (FXAA_GATHER4_ALPHA == 1)","        #if (FXAA_DISCARD == 0)","            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","            #if (FXAA_GREEN_AS_LUMA == 0)","                #define lumaM rgbyM.w","            #else","                #define lumaM rgbyM.y","            #endif","        #endif","        #if (FXAA_GREEN_AS_LUMA == 0)","            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));","        #else","            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);","            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));","        #endif","        #if (FXAA_DISCARD == 1)","            #define lumaM luma4A.w","        #endif","        #define lumaE luma4A.z","        #define lumaS luma4A.x","        #define lumaSE luma4A.y","        #define lumaNW luma4B.w","        #define lumaN luma4B.z","        #define lumaW luma4B.x","    #else","        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);","        #if (FXAA_GREEN_AS_LUMA == 0)","            #define lumaM rgbyM.w","        #else","            #define lumaM rgbyM.y","        #endif","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));","        #endif","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat maxSM = max(lumaS, lumaM);","    FxaaFloat minSM = min(lumaS, lumaM);","    FxaaFloat maxESM = max(lumaE, maxSM);","    FxaaFloat minESM = min(lumaE, minSM);","    FxaaFloat maxWN = max(lumaN, lumaW);","    FxaaFloat minWN = min(lumaN, lumaW);","    FxaaFloat rangeMax = max(maxWN, maxESM);","    FxaaFloat rangeMin = min(minWN, minESM);","    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;","    FxaaFloat range = rangeMax - rangeMin;","    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);","    FxaaBool earlyExit = range < rangeMaxClamped;","/*--------------------------------------------------------------------------*/","    if(earlyExit)","        #if (FXAA_DISCARD == 1)","            FxaaDiscard;","        #else","            return rgbyM;","        #endif","/*--------------------------------------------------------------------------*/","    #if (FXAA_GATHER4_ALPHA == 0)","        #if (FXAA_GLSL_100 == 1)","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));","        #else","          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));","          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","        #endif","    #else","        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));","        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));","    #endif","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNS = lumaN + lumaS;","    FxaaFloat lumaWE = lumaW + lumaE;","    FxaaFloat subpixRcpRange = 1.0/range;","    FxaaFloat subpixNSWE = lumaNS + lumaWE;","    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;","    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNESE = lumaNE + lumaSE;","    FxaaFloat lumaNWNE = lumaNW + lumaNE;","    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;","    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;","/*--------------------------------------------------------------------------*/","    FxaaFloat lumaNWSW = lumaNW + lumaSW;","    FxaaFloat lumaSWSE = lumaSW + lumaSE;","    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);","    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);","    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;","    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;","    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;","    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;","/*--------------------------------------------------------------------------*/","    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;","    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;","    FxaaBool horzSpan = edgeHorz >= edgeVert;","    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;","/*--------------------------------------------------------------------------*/","    if(!horzSpan) lumaN = lumaW;","    if(!horzSpan) lumaS = lumaE;","    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;","    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;","/*--------------------------------------------------------------------------*/","    FxaaFloat gradientN = lumaN - lumaM;","    FxaaFloat gradientS = lumaS - lumaM;","    FxaaFloat lumaNN = lumaN + lumaM;","    FxaaFloat lumaSS = lumaS + lumaM;","    FxaaBool pairN = abs(gradientN) >= abs(gradientS);","    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));","    if(pairN) lengthSign = -lengthSign;","    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posB;","    posB.x = posM.x;","    posB.y = posM.y;","    FxaaFloat2 offNP;","    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;","    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;","    if(!horzSpan) posB.x += lengthSign * 0.5;","    if( horzSpan) posB.y += lengthSign * 0.5;","/*--------------------------------------------------------------------------*/","    FxaaFloat2 posN;","    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;","    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;","    FxaaFloat2 posP;","    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;","    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;","    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;","    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));","    FxaaFloat subpixE = subpixC * subpixC;","    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));","/*--------------------------------------------------------------------------*/","    if(!pairN) lumaNN = lumaSS;","    FxaaFloat gradientScaled = gradient * 1.0/4.0;","    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;","    FxaaFloat subpixF = subpixD * subpixE;","    FxaaBool lumaMLTZero = lumaMM < 0.0;","/*--------------------------------------------------------------------------*/","    lumaEndN -= lumaNN * 0.5;","    lumaEndP -= lumaNN * 0.5;","    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;","    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;","    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;","    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;","    FxaaBool doneNP = (!doneN) || (!doneP);","    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;","    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;","/*--------------------------------------------------------------------------*/","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 3)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 4)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 5)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 6)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;","/*--------------------------------------------------------------------------*/","                        #if (FXAA_QUALITY_PS > 7)","                        if(doneNP) {","                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                            doneN = abs(lumaEndN) >= gradientScaled;","                            doneP = abs(lumaEndP) >= gradientScaled;","                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;","                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;","                            doneNP = (!doneN) || (!doneP);","                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;","                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;","/*--------------------------------------------------------------------------*/","    #if (FXAA_QUALITY_PS > 8)","    if(doneNP) {","        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","        doneN = abs(lumaEndN) >= gradientScaled;","        doneP = abs(lumaEndP) >= gradientScaled;","        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;","        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;","        doneNP = (!doneN) || (!doneP);","        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;","        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;","/*--------------------------------------------------------------------------*/","        #if (FXAA_QUALITY_PS > 9)","        if(doneNP) {","            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","            doneN = abs(lumaEndN) >= gradientScaled;","            doneP = abs(lumaEndP) >= gradientScaled;","            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;","            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;","            doneNP = (!doneN) || (!doneP);","            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;","            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;","/*--------------------------------------------------------------------------*/","            #if (FXAA_QUALITY_PS > 10)","            if(doneNP) {","                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                doneN = abs(lumaEndN) >= gradientScaled;","                doneP = abs(lumaEndP) >= gradientScaled;","                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;","                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;","                doneNP = (!doneN) || (!doneP);","                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;","                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;","/*--------------------------------------------------------------------------*/","                #if (FXAA_QUALITY_PS > 11)","                if(doneNP) {","                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                    doneN = abs(lumaEndN) >= gradientScaled;","                    doneP = abs(lumaEndP) >= gradientScaled;","                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;","                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;","                    doneNP = (!doneN) || (!doneP);","                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;","                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;","/*--------------------------------------------------------------------------*/","                    #if (FXAA_QUALITY_PS > 12)","                    if(doneNP) {","                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));","                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));","                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;","                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;","                        doneN = abs(lumaEndN) >= gradientScaled;","                        doneP = abs(lumaEndP) >= gradientScaled;","                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;","                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;","                        doneNP = (!doneN) || (!doneP);","                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;","                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","    #endif","/*--------------------------------------------------------------------------*/","                        }","                        #endif","/*--------------------------------------------------------------------------*/","                    }","                    #endif","/*--------------------------------------------------------------------------*/","                }","                #endif","/*--------------------------------------------------------------------------*/","            }","            #endif","/*--------------------------------------------------------------------------*/","        }","        #endif","/*--------------------------------------------------------------------------*/","    }","/*--------------------------------------------------------------------------*/","    FxaaFloat dstN = posM.x - posN.x;","    FxaaFloat dstP = posP.x - posM.x;","    if(!horzSpan) dstN = posM.y - posN.y;","    if(!horzSpan) dstP = posP.y - posM.y;","/*--------------------------------------------------------------------------*/","    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;","    FxaaFloat spanLength = (dstP + dstN);","    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;","    FxaaFloat spanLengthRcp = 1.0/spanLength;","/*--------------------------------------------------------------------------*/","    FxaaBool directionN = dstN < dstP;","    FxaaFloat dst = min(dstN, dstP);","    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;","    FxaaFloat subpixG = subpixF * subpixF;","    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;","    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;","/*--------------------------------------------------------------------------*/","    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;","    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);","    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;","    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;","    #if (FXAA_DISCARD == 1)","        return FxaaTexTop(tex, posM);","    #else","        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);","    #endif","}","/*==========================================================================*/","#endif","","void main() {","  gl_FragColor = FxaaPixelShader(","    vUv,","    vec4(0.0),","    tDiffuse,","    tDiffuse,","    tDiffuse,","    resolution,","    vec4(0.0),","    vec4(0.0),","    vec4(0.0),","    0.75,","    0.166,","    0.0833,","    0.0,","    0.0,","    0.0,","    vec4(0.0)","  );","","  // TODO avoid querying texture twice for same texel","  gl_FragColor.a = texture2D(tDiffuse, vUv).a;","}"].join("\n")},i["MaskPass"]=function(e,t){i["Pass"].call(this),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1},i["MaskPass"].prototype=Object.assign(Object.create(i["Pass"].prototype),{constructor:i["MaskPass"],render:function(e,t,n,a,i){var o,s,r=e.context,l=e.state;l.buffers.color.setMask(!1),l.buffers.depth.setMask(!1),l.buffers.color.setLocked(!0),l.buffers.depth.setLocked(!0),this.inverse?(o=0,s=1):(o=1,s=0),l.buffers.stencil.setTest(!0),l.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),l.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),l.buffers.stencil.setClear(s),e.render(this.scene,this.camera,n,this.clear),e.render(this.scene,this.camera,t,this.clear),l.buffers.color.setLocked(!1),l.buffers.depth.setLocked(!1),l.buffers.stencil.setFunc(r.EQUAL,1,4294967295),l.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP)}}),i["ClearMaskPass"]=function(){i["Pass"].call(this),this.needsSwap=!1},i["ClearMaskPass"].prototype=Object.create(i["Pass"].prototype),Object.assign(i["ClearMaskPass"].prototype,{render:function(e,t,n,a,i){e.state.buffers.stencil.setTest(!1)}}),i["OrbitControls"]=function(e,t){this.object=e,this.domElement=void 0!==t?t:document,this.enabled=!0,this.target=new i["Vector3"],this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={ORBIT:i["MOUSE"].LEFT,ZOOM:i["MOUSE"].MIDDLE,PAN:i["MOUSE"].RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return u.phi},this.getAzimuthalAngle=function(){return u.theta},this.reset=function(){n.target.copy(n.target0),n.object.position.copy(n.position0),n.object.zoom=n.zoom0,n.object.updateProjectionMatrix(),n.dispatchEvent(a),n.update(),l=r.NONE},this.update=function(){var t=new i["Vector3"],o=(new i["Quaternion"]).setFromUnitVectors(e.up,new i["Vector3"](0,1,0)),s=o.clone().inverse(),v=new i["Vector3"],h=new i["Quaternion"];return function(){var e=n.object.position;return t.copy(e).sub(n.target),t.applyQuaternion(o),u.setFromVector3(t),n.autoRotate&&l===r.NONE&&S(b()),u.theta+=d.theta,u.phi+=d.phi,u.theta=Math.max(n.minAzimuthAngle,Math.min(n.maxAzimuthAngle,u.theta)),u.phi=Math.max(n.minPolarAngle,Math.min(n.maxPolarAngle,u.phi)),u.makeSafe(),u.radius*=f,u.radius=Math.max(n.minDistance,Math.min(n.maxDistance,u.radius)),n.target.add(m),t.setFromSpherical(u),t.applyQuaternion(s),e.copy(n.target).add(t),n.object.lookAt(n.target),!0===n.enableDamping?(d.theta*=1-n.dampingFactor,d.phi*=1-n.dampingFactor):d.set(0,0,0),f=1,m.set(0,0,0),!!(p||v.distanceToSquared(n.object.position)>c||8*(1-h.dot(n.object.quaternion))>c)&&(n.dispatchEvent(a),v.copy(n.object.position),h.copy(n.object.quaternion),p=!1,!0)}}(),this.dispose=function(){n.domElement.removeEventListener("contextmenu",ae,!1),n.domElement.removeEventListener("mousedown",j,!1),n.domElement.removeEventListener("wheel",K,!1),n.domElement.removeEventListener("touchstart",ee,!1),n.domElement.removeEventListener("touchend",ne,!1),n.domElement.removeEventListener("touchmove",te,!1),document.removeEventListener("mousemove",$,!1),document.removeEventListener("mouseup",Z,!1),window.removeEventListener("keydown",J,!1)};var n=this,a={type:"change"},o={type:"start"},s={type:"end"},r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},l=r.NONE,c=1e-6,u=new i["Spherical"],d=new i["Spherical"],f=1,m=new i["Vector3"],p=!1,v=new i["Vector2"],h=new i["Vector2"],_=new i["Vector2"],x=new i["Vector2"],g=new i["Vector2"],A=new i["Vector2"],y=new i["Vector2"],P=new i["Vector2"],F=new i["Vector2"];function b(){return 2*Math.PI/60/60*n.autoRotateSpeed}function w(){return Math.pow(.95,n.zoomSpeed)}function S(e){d.theta-=e}function C(e){d.phi-=e}var L=function(){var e=new i["Vector3"];return function(t,n){e.setFromMatrixColumn(n,0),e.multiplyScalar(-t),m.add(e)}}(),T=function(){var e=new i["Vector3"];return function(t,n){e.setFromMatrixColumn(n,1),e.multiplyScalar(t),m.add(e)}}(),E=function(){var e=new i["Vector3"];return function(t,a){var o=n.domElement===document?n.domElement.body:n.domElement;if(n.object instanceof i["PerspectiveCamera"]){var s=n.object.position;e.copy(s).sub(n.target);var r=e.length();r*=Math.tan(n.object.fov/2*Math.PI/180),L(2*t*r/o.clientHeight,n.object.matrix),T(2*a*r/o.clientHeight,n.object.matrix)}else n.object instanceof i["OrthographicCamera"]?(L(t*(n.object.right-n.object.left)/n.object.zoom/o.clientWidth,n.object.matrix),T(a*(n.object.top-n.object.bottom)/n.object.zoom/o.clientHeight,n.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),n.enablePan=!1)}}();function I(e){n.object instanceof i["PerspectiveCamera"]?f/=e:n.object instanceof i["OrthographicCamera"]?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom*e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function N(e){n.object instanceof i["PerspectiveCamera"]?f*=e:n.object instanceof i["OrthographicCamera"]?(n.object.zoom=Math.max(n.minZoom,Math.min(n.maxZoom,n.object.zoom/e)),n.object.updateProjectionMatrix(),p=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),n.enableZoom=!1)}function U(e){v.set(e.clientX,e.clientY)}function X(e){y.set(e.clientX,e.clientY)}function M(e){x.set(e.clientX,e.clientY)}function O(e){h.set(e.clientX,e.clientY),_.subVectors(h,v);var t=n.domElement===document?n.domElement.body:n.domElement;S(2*Math.PI*_.x/t.clientWidth*n.rotateSpeed),C(2*Math.PI*_.y/t.clientHeight*n.rotateSpeed),v.copy(h),n.update()}function z(e){P.set(e.clientX,e.clientY),F.subVectors(P,y),F.y>0?I(w()):F.y<0&&N(w()),y.copy(P),n.update()}function R(e){g.set(e.clientX,e.clientY),A.subVectors(g,x),E(A.x,A.y),x.copy(g),n.update()}function k(e){}function Y(e){e.deltaY<0?N(w()):e.deltaY>0&&I(w()),n.update()}function Q(e){switch(e.keyCode){case n.keys.UP:E(0,n.keyPanSpeed),n.update();break;case n.keys.BOTTOM:E(0,-n.keyPanSpeed),n.update();break;case n.keys.LEFT:E(n.keyPanSpeed,0),n.update();break;case n.keys.RIGHT:E(-n.keyPanSpeed,0),n.update();break}}function D(e){v.set(e.touches[0].pageX,e.touches[0].pageY)}function B(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);y.set(0,a)}function H(e){x.set(e.touches[0].pageX,e.touches[0].pageY)}function G(e){h.set(e.touches[0].pageX,e.touches[0].pageY),_.subVectors(h,v);var t=n.domElement===document?n.domElement.body:n.domElement;S(2*Math.PI*_.x/t.clientWidth*n.rotateSpeed),C(2*Math.PI*_.y/t.clientHeight*n.rotateSpeed),v.copy(h),n.update()}function q(e){var t=e.touches[0].pageX-e.touches[1].pageX,a=e.touches[0].pageY-e.touches[1].pageY,i=Math.sqrt(t*t+a*a);P.set(0,i),F.subVectors(P,y),F.y>0?N(w()):F.y<0&&I(w()),y.copy(P),n.update()}function W(e){g.set(e.touches[0].pageX,e.touches[0].pageY),A.subVectors(g,x),E(A.x,A.y),x.copy(g),n.update()}function V(e){}function j(e){if(!1!==n.enabled){if(e.preventDefault(),e.button===n.mouseButtons.ORBIT){if(!1===n.enableRotate)return;U(e),l=r.ROTATE}else if(e.button===n.mouseButtons.ZOOM){if(!1===n.enableZoom)return;X(e),l=r.DOLLY}else if(e.button===n.mouseButtons.PAN){if(!1===n.enablePan)return;M(e),l=r.PAN}l!==r.NONE&&(document.addEventListener("mousemove",$,!1),document.addEventListener("mouseup",Z,!1),n.dispatchEvent(o))}}function $(e){if(!1!==n.enabled)if(e.preventDefault(),l===r.ROTATE){if(!1===n.enableRotate)return;O(e)}else if(l===r.DOLLY){if(!1===n.enableZoom)return;z(e)}else if(l===r.PAN){if(!1===n.enablePan)return;R(e)}}function Z(e){!1!==n.enabled&&(k(e),document.removeEventListener("mousemove",$,!1),document.removeEventListener("mouseup",Z,!1),n.dispatchEvent(s),l=r.NONE)}function K(e){!1===n.enabled||!1===n.enableZoom||l!==r.NONE&&l!==r.ROTATE||(e.preventDefault(),e.stopPropagation(),Y(e),n.dispatchEvent(o),n.dispatchEvent(s))}function J(e){!1!==n.enabled&&!1!==n.enableKeys&&!1!==n.enablePan&&Q(e)}function ee(e){if(!1!==n.enabled){switch(e.touches.length){case 1:if(!1===n.enableRotate)return;D(e),l=r.TOUCH_ROTATE;break;case 2:if(!1===n.enableZoom)return;B(e),l=r.TOUCH_DOLLY;break;case 3:if(!1===n.enablePan)return;H(e),l=r.TOUCH_PAN;break;default:l=r.NONE}l!==r.NONE&&n.dispatchEvent(o)}}function te(e){if(!1!==n.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===n.enableRotate)return;if(l!==r.TOUCH_ROTATE)return;G(e);break;case 2:if(!1===n.enableZoom)return;if(l!==r.TOUCH_DOLLY)return;q(e);break;case 3:if(!1===n.enablePan)return;if(l!==r.TOUCH_PAN)return;W(e);break;default:l=r.NONE}}function ne(e){!1!==n.enabled&&(V(e),n.dispatchEvent(s),l=r.NONE)}function ae(e){e.preventDefault()}n.domElement.addEventListener("contextmenu",ae,!1),n.domElement.addEventListener("mousedown",j,!1),n.domElement.addEventListener("wheel",K,!1),n.domElement.addEventListener("touchstart",ee,!1),n.domElement.addEventListener("touchend",ne,!1),n.domElement.addEventListener("touchmove",te,!1),window.addEventListener("keydown",J,!1),this.update()},i["OrbitControls"].prototype=Object.create(i["EventDispatcher"].prototype),i["OrbitControls"].prototype.constructor=i["OrbitControls"],Object.defineProperties(i["OrbitControls"].prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),i["RenderPass"]=function(e,t,n,a,o){i["Pass"].call(this),this.scene=e,this.camera=t,this.overrideMaterial=n,this.clearColor=a,this.clearAlpha=void 0!==o?o:0,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1},i["RenderPass"].prototype=Object.assign(Object.create(i["Pass"].prototype),{constructor:i["RenderPass"],render:function(e,t,n,a,i){var o,s,r=e.autoClear;e.autoClear=!1,this.scene.overrideMaterial=this.overrideMaterial,this.clearColor&&(o=e.getClearColor().getHex(),s=e.getClearAlpha(),e.setClearColor(this.clearColor,this.clearAlpha)),this.clearDepth&&e.clearDepth(),e.render(this.scene,this.camera,this.renderToScreen?null:n,this.clear),this.clearColor&&e.setClearColor(o,s),this.scene.overrideMaterial=null,e.autoClear=r}}),i["ShaderPass"]=function(e,t){i["Pass"].call(this),this.textureID=void 0!==t?t:"tDiffuse",e instanceof i["ShaderMaterial"]?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=i["UniformsUtils"].clone(e.uniforms),this.material=new i["ShaderMaterial"]({defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.camera=new i["OrthographicCamera"](-1,1,1,-1,0,1),this.scene=new i["Scene"],this.quad=new i["Mesh"](new i["PlaneBufferGeometry"](2,2),null),this.quad.frustumCulled=!1,this.scene.add(this.quad)},i["ShaderPass"].prototype=Object.assign(Object.create(i["Pass"].prototype),{constructor:i["ShaderPass"],render:function(e,t,n,a,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=n.texture),this.quad.material=this.material,this.renderToScreen?e.render(this.scene,this.camera):e.render(this.scene,this.camera,t,this.clear)}}),!1===t.isWebGLAvailable()&&document.body.appendChild(t.getWebGLErrorMessage());var z=!1;function R(e){z||(F.x=e.clientX/window.innerWidth*2-1,F.y=-e.clientY/window.innerHeight*2+1,u=new i["Vector3"](F.x,F.y,b.position.z),u.unproject(r),f=u.sub(r.position),f.normalize(),d=-r.position.z/f.z,m=r.position.clone().add(f.multiplyScalar(d)),m.x<150&&m.x>-300&&TweenMax.to(b.position,1,{ease:Power2.easeOut,x:m.x,y:m.y}),X||M||TweenMax.to(r.position,1,{ease:Power2.easeOut,x:N.getPointAt(U+.05*F.x).x,z:N.getPointAt(U+.05*F.x).z,y:N.getPointAt(U+.05*F.x).y,onUpdate:function(){r.lookAt(c)}}))}/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)&&(z=!0);var k={zero:function(){r.lookAt(c);for(var e=0;e<v.length;e++)v[e].lookAt(r.position),v[e].rotation.z=Math.PI,v[e].rotation.x=Math.PI,v[e].rotation.y-=Math.PI/2,v[e].mustrotate=v[e].rotation.y,v[e].visible=!1,v[e].moving=!1,v[e].name="plane";for(var t=0;t<h.length;t++)h[t].lookAt(r.position),h[t].rotation.z=Math.PI,h[t].rotation.x=Math.PI,h[t].rotation.y-=Math.PI/2,h[t].mustrotate=h[t].rotation.y,h[t].moving=!1,h[t].name="plane";P.opacity=0,x.opacity=0},first:function(){for(var e=0;e<v.length;e++)v[e].moving=!0;for(var t=0;t<h.length;t++)h[t].moving=!0;TweenMax.to(P,1.5,{ease:Circ.easeOut,opacity:1}),TweenLite.to(document.getElementById("btn"),1,{opacity:1,onComplete:function(){!0}})},second:function(){TweenLite.to(document.getElementById("btn"),1,{opacity:0,onComplete:function(){document.getElementById("btn").style.display="none"}}),TweenMax.to(P,1.5,{ease:Circ.easeOut,opacity:1,onComplete:function(){for(var e=0;e<h.length;e++)h[e].visible=!1,s.remove(h[e]);r.position.set(0,300,0),c.y=400,TweenMax.to(r.position,6,{ease:Power3.easeOut,y:-70,x:-320.414,z:-143}),TweenMax.to(c,6,{ease:Power3.easeOut,y:70,onComplete:function(){X=!1},onUpdate:function(){r.lookAt(c)}}),!1,TweenMax.to(C.position,3,{ease:Power2.easeOut,x:C.position.x-20,z:C.position.z-20}),TweenMax.to(L.position,3,{ease:Power2.easeOut,x:L.position.x-20,z:L.position.z-20}),TweenMax.to(I.position,3,{ease:Power2.easeOut,x:I.position.x-20,z:I.position.z-20}),TweenMax.to(E.position,3,{ease:Power2.easeOut,x:E.position.x-20,z:E.position.z-20}),TweenMax.to(x,.2,{ease:Circ.easeOut,opacity:1});for(var t=0;t<v.length;t++)v[t].visible=!0,TweenMax.to(v[t].position,3,{ease:Power2.easeOut,x:v[t].position.x-20,z:v[t].position.z-20})}})}};function Y(e,t,n,a){for(var i=e;i<n;i+=7)for(var o=t;o<a;o+=14){var r=A.clone();r.position.set(i+Q(-1,2),o,0),r.amplitude=.01+.005*Math.random(),s.add(r),h.push(r)}}function Q(e,t){return Math.floor(e+Math.random()*(t+1-e))}function D(){s=new i["Scene"],r=new i["PerspectiveCamera"](45,window.innerWidth/window.innerHeight,10,1e3),l=new i["WebGLRenderer"]({antialias:!0}),c=new i["Vector3"](0,70,0),v=[],h=[],p=new i["Raycaster"],F=new i["Vector2"],r.position.set(0,70,-150),l.setSize(window.innerWidth,window.innerHeight),l.setPixelRatio(window.devicePixelRatio),!1,!1,X=!0,M=!1,r.lookAt(c),U=0,document.body.appendChild(l.domElement),_=new i["PlaneGeometry"](1.5,14,1),x=new i["MeshStandardMaterial"]({color:16568462,side:i["DoubleSide"],wireframe:!1,metalness:1,emissive:2301728,transparent:!0}),g=new i["Mesh"](_,x),y=new i["PlaneGeometry"](1.5,14,1),P=new i["MeshStandardMaterial"]({color:16568462,side:i["DoubleSide"],wireframe:!1,metalness:1,emissive:2301728,transparent:!0}),A=new i["Mesh"](y,P),s.background=new i["Color"](1907227),b=new i["PointLight"]({color:new i["Color"](15259562)}),s.add(b),b.position.set(-87,180,-20),N=new i["QuadraticBezierCurve3"](new i["Vector3"](-320.414,-70,-143),new i["Vector3"](-461,-70,-21),new i["Vector3"](-241.5,-31,237));var e=N.getPoints(50),t=(new i["BufferGeometry"]).setFromPoints(e),n=new i["LineBasicMaterial"]({color:16711680});new i["Line"](t,n);w=new i["PlaneGeometry"](70,500,1),S=new i["MeshBasicMaterial"]({color:1907227,side:i["DoubleSide"]}),C=new i["Mesh"](w,S),C.position.set(35,45,6),L=C.clone(),L.rotation.y-=Math.PI/2,L.position.set(56,45,30),I=new i["Mesh"](w,S),I.position.set(30,45,65),E=new i["Mesh"](w,S),E.rotation.y-=Math.PI/2,E.scale.x=.8,E.position.set(3,45,34),I.scale.x=.8,s.add(L),s.add(C),s.add(I),s.add(E),T=C.clone(),T.scale.x=.9,T.position.set(195,45,-16),s.add(T),Y(-150,-150,300,300),window.addEventListener("mousemove",R,!1),document.addEventListener("mousewheel",J,!1),document.addEventListener("DOMMouseScroll",J,!1);for(var a=0;a<70;a+=7)for(var o=-100;o<200;o+=14){var u=g.clone();u.position.set(a+Q(-1,2),o,0),u.amplitude=.01+.005*Math.random(),s.add(u),v.push(u)}for(var d=6;d<70;d+=7)for(var f=-100;f<200;f+=14){var m=g.clone();m.position.set(0,f,d+Q(-1,2)),m.amplitude=.01+.005*Math.random(),s.add(m),v.push(m)}for(var O=0;O<70;O+=7)for(var z=-100;z<200;z+=14){var D=g.clone();D.position.set(O+Q(-1,2),z,70),D.amplitude=.01+.005*Math.random(),s.add(D),v.push(D)}for(var H=180;H<250;H+=7)for(var q=-100;q<200;q+=14){var W=g.clone();W.position.set(H+Q(-1,2),q,0),W.amplitude=.01+.005*Math.random(),s.add(W),v.push(W)}for(var V=6;V<70;V+=7)for(var j=-100;j<200;j+=14){var $=g.clone();$.position.set(180,j,V+Q(-1,2)),$.amplitude=.01+.005*Math.random(),s.add($),v.push($)}for(var Z=180;Z<250;Z+=7)for(var K=-100;K<200;K+=14){var ee=g.clone();ee.position.set(Z+Q(-1,2),K,70),ee.amplitude=.01+.005*Math.random(),s.add(ee),v.push(ee)}setTimeout((function(){k.first()}),10);window.addEventListener("resize",G,!1),B()}function B(){window.mainCanvasRAF=requestAnimationFrame(B),l.render(s,r);for(var e=0;e<v.length;e++)v[e].moving&&(v[e].rotation.y+=v[e].amplitude,v[e].rotation.y>Math.PI&&(v[e].rotation.y=0));for(var t=0;t<h.length;t++)h[t].moving&&(h[t].rotation.y+=h[t].amplitude,h[t].rotation.y>Math.PI&&(h[t].rotation.y=0));p.setFromCamera(F,r);var n=p.intersectObjects(s.children);if(n.length>0){var a=n[0].object;"plane"==a.name&&(a.moving=!1,TweenMax.to(a.rotation,2,{ease:Power2.easeOut,y:a.rotation.y+Math.PI,onComplete:function(){a.moving=!0}}))}}function H(){for(var e=function(e){h[e].moving=!1,h[e].start_rot=h[e].rotation.y,h[e].lookAt(r.position),h[e].rotation.z=Math.PI,h[e].rotation.x=Math.PI,h[e].rotation.y-=Math.PI/2,h[e].mustrotate=h[e].rotation.y,h[e].rotation.y=h[e].start_rot,h[e].rotanim=TweenMax.to(h[e].rotation,3,{ease:Power3.easeOut,y:h[e].mustrotate,onComplete:function(){h[e].moving=!0}})},t=0;t<h.length;t++)e(t);k.second()}function G(){r.aspect=window.innerWidth/window.innerHeight,r.updateProjectionMatrix(),l.setSize(window.innerWidth,window.innerHeight)}D(),H();new i["Vector3"](0,70,0),new i["Vector3"](0,65,40),new i["Vector3"](0,60,90),new i["Vector3"](0,50,140),new i["Vector3"](0,40,180);function q(e){"next"===e&&U<1&&(U+=.2),"back"===e&&U>0&&(U-=.2),M=!0,TweenMax.to(r.position,2,{x:N.getPointAt(U).x,y:N.getPointAt(U).y,z:N.getPointAt(U).z,ease:Power4.easeOut,onComplete:function(){M=!1},onUpdate:function(){r.lookAt(c)}})}var W,V,j=!1,$=0,Z=0,K=0;function J(e){var t=W||"undefined"!==typeof W;if(t||(0===K&&(V=(new Date).getTime()),K++,(new Date).getTime()-V>100&&(W=K>10,t=!0)),t){e||(e=event);var n=e.detail<0||e.wheelDelta>0?1:-1;W?(Z=(new Date).getTime(),!j&&Z-$>550&&(j=!0,q(n<0?"next":"back"),setTimeout((function(){$=(new Date).getTime(),j=!1}),500))):q(n<0?"next":"back")}}var ee=0;document.addEventListener("scroll",(function(){document.body.getBoundingClientRect().top>ee?q("next"):q("back"),ee=document.body.getBoundingClientRect().top})),document.addEventListener("touchstart",(function(e){e.preventDefault(),e.stopPropagation(),initialPoint=e.changedTouches[0]}),!1),document.addEventListener("touchend",(function(e){e.preventDefault(),e.stopPropagation(),finalPoint=e.changedTouches[0];var t=Math.abs(initialPoint.pageX-finalPoint.pageX),n=Math.abs(initialPoint.pageY-finalPoint.pageY);(t>20||n>20)&&(t>n?finalPoint.pageX<initialPoint.pageX?q("next"):q("back"):(finalPoint.pageY,initialPoint.pageY))}),!1)}}.call(this,n("dd40")(e),n("c8ba"))},"5f94":function(e,t,n){e.exports=n.p+"img/part-4_2.ecfe0fdd.jpg"},"60ef":function(e,t,n){"use strict";var a=n("2a92"),i=n.n(a);i.a},"61e4":function(e,t,n){e.exports=n.p+"img/logoAWLightMobile.4b096c23.svg"},6508:function(e,t,n){},"6bbf":function(e,t,n){},"6ff9":function(e,t,n){e.exports=n.p+"img/map.2e1099b7.svg"},7013:function(e,t,n){"use strict";var a=n("a9b6"),i=n.n(a);i.a},7158:function(e,t,n){},"745e":function(e,t,n){e.exports=n.p+"img/part-2_1.8c6715c5.jpg"},"756d":function(e,t,n){e.exports=n.p+"img/part-1_1.30cd9c13.jpg"},7662:function(e,t,n){},77268:function(e,t,n){e.exports=n.p+"img/2.5e44e4b2.jpg"},"77d3":function(e,t,n){e.exports=n.p+"img/part-3_1.64ab02d1.jpg"},"7baf":function(e,t,n){},"7bf0":function(e,t,n){},"7e24":function(e,t,n){e.exports=n.p+"img/next.2a858bd1.svg"},"7f78":function(e,t,n){"use strict";n.r(t);n("a481")},8078:function(e,t,n){e.exports=n.p+"img/1.029b642e.png"},8803:function(e,t,n){e.exports=n.p+"img/2-detail.bae81b05.jpg"},"8d87":function(e,t,n){"use strict";var a=n("6508"),i=n.n(a);i.a},9531:function(e,t,n){e.exports=n.p+"img/1-detail.13f3e0c9.jpg"},9579:function(e,t,n){"use strict";var a=n("7662"),i=n.n(a);i.a},"99b8":function(e,t,n){},"9b82":function(e,t,n){},a320:function(e,t,n){"use strict";var a=n("5640"),i=n.n(a);i.a},a7f3:function(e,t,n){},a9b6:function(e,t,n){},ae1e:function(e,t,n){},b00f:function(e,t,n){"use strict";var a=n("9b82"),i=n.n(a);i.a},b9ba:function(e,t,n){},bd45:function(e,t,n){"use strict";var a=n("7158"),i=n.n(a);i.a},bd8c:function(e,t,n){e.exports=n.p+"img/prev.2a858bd1.svg"},bed1:function(e,t,n){},c15d:function(e,t,n){},c21f:function(e,t,n){},c279:function(e,t,n){"use strict";var a=n("07a2"),i=n.n(a);i.a},cf25:function(e,t,n){"use strict";var a=n("56cc"),i=n.n(a);i.a},cf88:function(e,t,n){"use strict";var a=n("0713"),i=n.n(a);i.a},d06e:function(e,t,n){},d217:function(e,t,n){"use strict";var a=n("e504"),i=n.n(a);i.a},d520:function(e,t,n){"use strict";var a=n("3bed"),i=n.n(a);i.a},d684:function(e,t,n){"use strict";var a=n("7baf"),i=n.n(a);i.a},d774:function(e,t,n){e.exports=n.p+"img/part-4_3.a5805208.jpg"},d7fe:function(e,t,n){"use strict";var a=n("c21f"),i=n.n(a);i.a},dbef:function(e,t,n){e.exports=n.p+"img/prev.2a858bd1.svg"},dc58:function(e,t,n){e.exports=n.p+"img/part-1_2.76ffceb1.jpg"},e01e:function(e,t,n){"use strict";var a=n("a7f3"),i=n.n(a);i.a},e1ea:function(e,t,n){e.exports=n.p+"img/logoAWLight.c85b9ebe.svg"},e2b8:function(e,t,n){e.exports=n.p+"img/1.f65a8da3.jpg"},e504:function(e,t,n){},eaba:function(e,t,n){e.exports=n.p+"img/logoAWMobile.c88ee9d7.svg"},ecb1:function(e,t,n){e.exports=n.p+"img/3.eba766f1.jpg"},f01a:function(e,t,n){e.exports=n.p+"img/next.2a858bd1.svg"},f4a1:function(e,t,n){},f5ba:function(e,t,n){"use strict";var a=n("bed1"),i=n.n(a);i.a},f7fb:function(e,t,n){"use strict";var a=n("f4a1"),i=n.n(a);i.a},f816:function(e,t,n){e.exports=n.p+"img/3-detail.026c5dc3.jpg"},fea0:function(e,t,n){},ff45:function(e,t,n){e.exports=n.p+"img/part-4_1.91120fb3.jpg"},ffeb:function(e,t,n){"use strict";var a=n("c15d"),i=n.n(a);i.a}});
//# sourceMappingURL=app.8f3d8e1c.js.map